(window.webpackJsonp=window.webpackJsonp||[]).push([[925],{1141:function(e){e.exports={content:"<h3>custom elements</h3>\n<p>\u4f5c\u7528\uff1a\u5c06HTML\u9875\u9762\u7684\u529f\u80fd\u5c01\u88c5\u4e3a<code>custom elements</code>(\u81ea\u5b9a\u4e49\u6807\u7b7e)</p>\n<blockquote>\n<p><code>shadow root</code>\uff1a\u6e32\u67d3\u9694\u79bb</p>\n</blockquote>\n<h3>API</h3>\n<ul>\n<li>\n<p>customElement.define()</p>\n<p>\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684 \u81ea\u5b9a\u4e49\u5143\u7d20\u3002</p>\n<p>\u53c2\u65701\uff1a<code>name</code>\u81ea\u5b9a\u4e49\u5143\u7d20\u540d.\n\u53c2\u65702\uff1a<code>constructor</code>\u81ea\u5b9a\u4e49\u5143\u7d20\u6784\u9020\u5668.\n\u53c2\u65703\uff1a<code>options</code> \u76ee\u524d\u6709\u4e00\u4e2a\u9009\u9879\u652f\u6301:<code>extends</code>\u6307\u5b9a\u7ee7\u627f\u7684\u5df2\u521b\u5efa\u7684\u5143\u7d20. \u88ab\u7528\u4e8e\u521b\u5efa\u81ea\u5b9a\u4e49\u5143\u7d20.\n\u4f8b\u5982\uff1a<code>{extends:'p'}\u7ee7\u627fp\u5143\u7d20</code>\uff0c\u6784\u9020\u7ec4\u4ef6\u65f6<code>class MyEle extends HTMLParagraphElement{...}</code></p>\n<blockquote>\n<p>Autonomous custom elements \u603b\u662f\u7ee7\u627f\u81eaHTMLElement</p>\n</blockquote>\n</li>\n<li>\n<p>customElement.get()</p>\n<p>\u8fd4\u56de\u6307\u5b9a\u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u6784\u9020\u51fd\u6570\uff0c\u5982\u679c\u672a\u5b9a\u4e49\u81ea\u5b9a\u4e49\u5143\u7d20\uff0c\u5219\u8fd4\u56deundefined\u3002</p>\n</li>\n<li>\n<p>customElement.whenDefined()</p>\n<p>\u8fd4\u56de\u5f53\u4f7f\u7528\u7ed9\u5b9a\u540d\u79f0\u5b9a\u4e49\u81ea\u5b9a\u4e49\u5143\u7d20\u65f6(\u5fc5\u987b\u4f7f\u7528\u6709\u6548\u540d\u79f0)\u5c06\u4f1a\u6267\u884c\u7684promise(\u65e0\u53c2\u6570)\u3002</p>\n<blockquote>\n<p>\u6709\u6548\u7684\u540d\u79f0\uff1a<code>[a-z]xx-xxx</code>\n\u5177\u4f53\u53c2\u8003:<a href=\"https://html.spec.whatwg.org/multipage/custom-elements.html#prod-pcenchar\">https://html.spec.whatwg.org/multipage/custom-elements.html#prod-pcenchar</a></p>\n</blockquote>\n<p>\u4f8b\u5b50\uff1a</p>\n<pre class=\"hljs\"><code>customElements.whenDefined(&quot;my-ele&quot;).then(()=&gt;{\n  // \u6b64\u5904\u65e0\u53c2\u6570\u4f20\u9012\n  console.log(&quot;defined&quot;)\n})\nclass MyEle extends HTMLElement {\n  constructor() {\n    // \u5fc5\u987b\u9996\u5148\u8c03\u7528 super\u65b9\u6cd5 \n    super(); \n    // \u5143\u7d20\u7684\u529f\u80fd\u4ee3\u7801\u5199\u5728\u8fd9\u91cc\n  }\n}\ncustomElements.define('my-ele', MyEle );\n</code></pre>\n</li>\n</ul>\n<h3>\u642d\u914d<code>shadow root</code>\u5c0f\u4f8b\u5b50</h3>\n<pre class=\"hljs\"><code>class MyEle extends HTMLElement {\n  constructor() {\n    super(); \n    // \u542f\u52a8shadowRoot\n    var shadow = this.attachShadow({mode: 'open'});\n \n    var wrapper = document.createElement('span');\n    wrapper.setAttribute('class','wrapper');\n    const style = document.createElement('style');\n    style.textContent = `\n      .wrapper {\n        background:blue;\n      }\n    `\n    shadow.appendChild(wrapper);\n  }\n}\ncustomElements.define('my-ele', MyEle);\n</code></pre>\n<p>\u6b64\u5904\u5b9a\u4e49\u4e86\u4e00\u4e2a<code>custom Element</code>\uff0c(\u5305\u62ec\u542f\u52a8<code>shadowRoot</code>\u548c<code>define</code>)\uff0c\u5176\u5185\u90e8\u7684<code>.wrapper</code>\u80cc\u666f\u662f\u84dd\u8272\uff0c\u4e0e\u5916\u90e8\u7684<code>.wrapper</code>\u4e0d\u51b2\u7a81\u3002</p>\n<h2>\u751f\u547d\u5468\u671f</h2>\n<ul>\n<li>connectedCallback\uff1a\u5f53<code>custom element</code>\u9996\u6b21\u88ab\u63d2\u5165\u6587\u6863DOM\u65f6\uff0c\u88ab\u8c03\u7528\u3002</li>\n<li>disconnectedCallback\uff1a\u5f53<code>custom element</code>\u4ece\u6587\u6863DOM\u4e2d\u5220\u9664\u65f6\uff0c\u88ab\u8c03\u7528\u3002</li>\n<li>adoptedCallback\uff1a\u5f53<code>custom element</code>\u88ab\u79fb\u52a8\u5230\u65b0\u7684\u6587\u6863\u65f6\uff0c\u88ab\u8c03\u7528\u3002</li>\n<li>attributeChangedCallback:(\u591a\u6b21\u88ab\u8c03\u7528) \u5f53<code>custom element</code>\u589e\u52a0\u3001\u5220\u9664\u3001\u4fee\u6539\u81ea\u8eab\u5c5e\u6027\u65f6\uff0c\u88ab\u8c03\u7528\u3002</li>\n</ul>\n"}}}]);
//# sourceMappingURL=sourceCode-content91.8161b4ca.chunk.js.map