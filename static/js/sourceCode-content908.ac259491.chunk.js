(window.webpackJsonp=window.webpackJsonp||[]).push([[923],{943:function(s){s.exports={code:['<pre class="hljs"><code>\n<span class="hljs-keyword">var</span> StockSpanner = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{\n    <span class="hljs-keyword">this</span>.c=[]\n    <span class="hljs-keyword">this</span>.count=[]\n};\n\n<span class="hljs-comment">/** \n * @param {number} price\n * @return {number}\n */</span>\nStockSpanner.prototype.next = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">price</span>) </span>{\n    <span class="hljs-comment">// if(this.c.length!==this.count.length)console.log(\'wrong\')</span>\n    <span class="hljs-keyword">let</span> len=<span class="hljs-keyword">this</span>.c.length\n    <span class="hljs-keyword">if</span>(len===<span class="hljs-number">0</span>){\n        <span class="hljs-keyword">this</span>.c.push(price)\n        <span class="hljs-keyword">this</span>.count.push(<span class="hljs-number">1</span>)\n    }<span class="hljs-keyword">else</span>{\n        <span class="hljs-keyword">if</span>(price&lt;<span class="hljs-keyword">this</span>.c[len<span class="hljs-number">-1</span>]){\n            <span class="hljs-keyword">this</span>.c.push(price)\n            <span class="hljs-keyword">this</span>.count.push(<span class="hljs-number">1</span>)\n            <span class="hljs-comment">// return 1</span>\n        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (price===<span class="hljs-keyword">this</span>.c[len<span class="hljs-number">-1</span>]){\n            <span class="hljs-keyword">this</span>.c.push(price)\n            <span class="hljs-keyword">this</span>.count.push(<span class="hljs-keyword">this</span>.count[len<span class="hljs-number">-1</span>]+<span class="hljs-number">1</span>)\n            <span class="hljs-comment">// return this.count[len-1]</span>\n        }<span class="hljs-keyword">else</span>{\n            <span class="hljs-keyword">let</span> num=<span class="hljs-number">1</span>\n            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=len<span class="hljs-number">-1</span>;;i--){\n                <span class="hljs-keyword">if</span>(i&gt;=<span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">this</span>.c[i]&lt;=price){\n                    num++\n                }<span class="hljs-keyword">else</span>{\n                    <span class="hljs-keyword">this</span>.c.push(price)\n                    <span class="hljs-keyword">this</span>.count.push(num)\n                    <span class="hljs-keyword">break</span>;\n                }\n            }\n        }\n        \n    }\n    <span class="hljs-comment">// console.log(this.c,this.count)</span>\n<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.count[<span class="hljs-keyword">this</span>.count.length<span class="hljs-number">-1</span>]\n\n};\n\n<span class="hljs-comment">/** \n * Your StockSpanner object will be instantiated and called as such:\n * var obj = Object.create(StockSpanner).createNew()\n * var param_1 = obj.next(price)\n */</span>\n</code></pre>\n'],titleSlug:"online-stock-span",hasThinking:!0,thinking:"<hr>\n<p>\u601d\u8def\uff1a</p>\n<p>\u627e\u5230\u6bcf\u4e2a\u80a1\u7968\u8fde\u7eed\u9012\u589e\u7684\u5929\u6570\u3002</p>\n<p>\u5b9a\u4e49\u4e00\u4e2a<code>stack</code>\uff0c\u5176\u4e2d<code>stack[i]</code>\u4fdd\u5b58\u4e24\u4e2a\u5143\u7d20\uff0c<code>stack[i][0]</code>\u5b58\u653e\u80a1\u7968\u4ef7\u683c\uff0c<code>stack[i][1]</code>\u5b58\u653e\u662f\u54ea\u4e00\u5929\u7684\u80a1\u7968\u3002</p>\n<p>\u5982\u679c<code>next</code>\u7684\u65f6\u5019\u53d1\u73b0<code>price&gt;=stack[stack.length-1][0]</code>\uff0c\u8bf4\u660e\u4e0a\u4e00\u6b21\u7684\u80a1\u7968\u76f8\u5bf9\u4e8e\u5f53\u5929\u7684\u662f\u9012\u589e\u7684\uff0c\u6267\u884c<code>stack.pop</code>\u5e76\u4e14\u7ee7\u7eed\u68c0\u67e5\uff0c\n\u76f4\u5230\u4e0d\u518d\u662f\u9012\u589e\u7684\u60c5\u51b5\u3002</p>\n<p>\u8fd9\u65f6\u5019\u7684<code>stack[i][1]</code>\uff0c\u5c31\u662f\u4e0a\u4e00\u6b21\u8fde\u7eed\u9012\u589e\u7684\u5f00\u59cb\u7684\u90a3\u4e00\u5929\u3002</p>\n",content:"<p>\u7f16\u5199\u4e00\u4e2a <code>StockSpanner</code> \u7c7b\uff0c\u5b83\u6536\u96c6\u67d0\u4e9b\u80a1\u7968\u7684\u6bcf\u65e5\u62a5\u4ef7\uff0c\u5e76\u8fd4\u56de\u8be5\u80a1\u7968\u5f53\u65e5\u4ef7\u683c\u7684\u8de8\u5ea6\u3002</p>\n\n<p>\u4eca\u5929\u80a1\u7968\u4ef7\u683c\u7684\u8de8\u5ea6\u88ab\u5b9a\u4e49\u4e3a\u80a1\u7968\u4ef7\u683c\u5c0f\u4e8e\u6216\u7b49\u4e8e\u4eca\u5929\u4ef7\u683c\u7684\u6700\u5927\u8fde\u7eed\u65e5\u6570\uff08\u4ece\u4eca\u5929\u5f00\u59cb\u5f80\u56de\u6570\uff0c\u5305\u62ec\u4eca\u5929\uff09\u3002</p>\n\n<p>\u4f8b\u5982\uff0c\u5982\u679c\u672a\u67657\u5929\u80a1\u7968\u7684\u4ef7\u683c\u662f <code>[100, 80, 60, 70, 60, 75, 85]</code>\uff0c\u90a3\u4e48\u80a1\u7968\u8de8\u5ea6\u5c06\u662f <code>[1, 1, 1, 2, 1, 4, 6]</code>\u3002</p>\n\n<p>&nbsp;</p>\n\n<p><strong>\u793a\u4f8b\uff1a</strong></p>\n\n<pre><strong>\u8f93\u5165\uff1a</strong>[&quot;StockSpanner&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;], [[],[100],[80],[60],[70],[60],[75],[85]]\n<strong>\u8f93\u51fa\uff1a</strong>[null,1,1,1,2,1,4,6]\n<strong>\u89e3\u91ca\uff1a</strong>\n\u9996\u5148\uff0c\u521d\u59cb\u5316 S = StockSpanner()\uff0c\u7136\u540e\uff1a\nS.next(100) \u88ab\u8c03\u7528\u5e76\u8fd4\u56de 1\uff0c\nS.next(80) \u88ab\u8c03\u7528\u5e76\u8fd4\u56de 1\uff0c\nS.next(60) \u88ab\u8c03\u7528\u5e76\u8fd4\u56de 1\uff0c\nS.next(70) \u88ab\u8c03\u7528\u5e76\u8fd4\u56de 2\uff0c\nS.next(60) \u88ab\u8c03\u7528\u5e76\u8fd4\u56de 1\uff0c\nS.next(75) \u88ab\u8c03\u7528\u5e76\u8fd4\u56de 4\uff0c\nS.next(85) \u88ab\u8c03\u7528\u5e76\u8fd4\u56de 6\u3002\n\n\u6ce8\u610f (\u4f8b\u5982) S.next(75) \u8fd4\u56de 4\uff0c\u56e0\u4e3a\u622a\u81f3\u4eca\u5929\u7684\u6700\u540e 4 \u4e2a\u4ef7\u683c\n(\u5305\u62ec\u4eca\u5929\u7684\u4ef7\u683c 75) \u5c0f\u4e8e\u6216\u7b49\u4e8e\u4eca\u5929\u7684\u4ef7\u683c\u3002\n</pre>\n\n<p>&nbsp;</p>\n\n<p><strong>\u63d0\u793a\uff1a</strong></p>\n\n<ol>\n\t<li>\u8c03\u7528&nbsp;<code>StockSpanner.next(int price)</code>&nbsp;\u65f6\uff0c\u5c06\u6709&nbsp;<code>1 &lt;= price &lt;= 10^5</code>\u3002</li>\n\t<li>\u6bcf\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u6700\u591a\u53ef\u4ee5\u8c03\u7528&nbsp; <code>10000</code> \u6b21 <code>StockSpanner.next</code>\u3002</li>\n\t<li>\u5728\u6240\u6709\u6d4b\u8bd5\u7528\u4f8b\u4e2d\uff0c\u6700\u591a\u8c03\u7528&nbsp;<code>150000</code>&nbsp;\u6b21&nbsp;<code>StockSpanner.next</code>\u3002</li>\n\t<li>\u6b64\u95ee\u9898\u7684\u603b\u65f6\u95f4\u9650\u5236\u51cf\u5c11\u4e86 50%\u3002</li>\n</ol>\n"}}}]);
//# sourceMappingURL=sourceCode-content908.ac259491.chunk.js.map