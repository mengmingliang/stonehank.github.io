(window.webpackJsonp=window.webpackJsonp||[]).push([[728],{766:function(s){s.exports={code:['<pre class="hljs"><code><span class="hljs-comment">/**\n * @param {string} S\n * @return {number}\n */</span>\n<span class="hljs-keyword">var</span> countPalindromicSubsequences = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">S</span>) </span>{\n  <span class="hljs-keyword">let</span> dp=[]\n  <span class="hljs-keyword">let</span> N=S.length,MOD=<span class="hljs-number">1e9</span>+<span class="hljs-number">7</span>\n  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;N;i++){\n    dp[i]=[]\n    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j=<span class="hljs-number">0</span>;j&lt;N;j++){\n      <span class="hljs-keyword">if</span>(i===j)dp[i][j]=<span class="hljs-number">1</span>\n      <span class="hljs-keyword">else</span> dp[i][j]=<span class="hljs-number">0</span>\n    }\n  }\n  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">1</span>;i&lt;N;i++){\n    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j=<span class="hljs-number">0</span>;j&lt;N-i;j++){\n      <span class="hljs-keyword">let</span> k=j+i\n      <span class="hljs-keyword">if</span>(S[j]===S[k]){\n        <span class="hljs-keyword">let</span> left=j+<span class="hljs-number">1</span>,right=k<span class="hljs-number">-1</span>\n        <span class="hljs-keyword">while</span>(left &lt;= right &amp;&amp; S[left]!==S[j]){\n          left++;\n        }\n        <span class="hljs-keyword">while</span>(left &lt;= right &amp;&amp; S[right]!==S[j]){\n          right--;\n        }\n        <span class="hljs-keyword">if</span>(left&gt;right){\n          dp[j][k]=dp[j+<span class="hljs-number">1</span>][k<span class="hljs-number">-1</span>]*<span class="hljs-number">2</span>+<span class="hljs-number">2</span>\n        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(left===right){\n          dp[j][k]=dp[j+<span class="hljs-number">1</span>][k<span class="hljs-number">-1</span>]*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>\n        }<span class="hljs-keyword">else</span>{\n          dp[j][k]=dp[j+<span class="hljs-number">1</span>][k<span class="hljs-number">-1</span>]*<span class="hljs-number">2</span>-dp[left+<span class="hljs-number">1</span>][right<span class="hljs-number">-1</span>]\n        }\n      }<span class="hljs-keyword">else</span>{\n        dp[j][k]=dp[j+<span class="hljs-number">1</span>][k]+dp[j][k<span class="hljs-number">-1</span>]-dp[j+<span class="hljs-number">1</span>][k<span class="hljs-number">-1</span>]\n      }\n      dp[j][k]=(dp[j][k]+MOD) % MOD\n    }\n  }\n  <span class="hljs-keyword">return</span> dp[<span class="hljs-number">0</span>][N<span class="hljs-number">-1</span>]\n};\n</code></pre>\n'],titleSlug:"count-different-palindromic-subsequences",hasThinking:!0,thinking:"<hr>\n<p>\u601d\u8def\uff1a</p>\n<p>\u8fd9\u9053\u9898\u4f7f\u7528\u52a8\u6001\u89c4\u5212\u65b9\u6cd5\uff0c<code>dp[i][j]</code>\u8868\u793a\u4ece<code>i</code>\u5230<code>j</code>(\u5305\u542b)\uff0c\u5b58\u5728\u591a\u5c11\u4e0d\u91cd\u590d\u7684\u56de\u6587\u5b50\u5e8f\u5217\u3002</p>\n<p>dp\u9012\u63a8\u516c\u5f0f\u5982\u4e0b\uff1a</p>\n<ul>\n<li>\n<p>\u5f53<code>S[i]!==S[j]</code>\u65f6\uff0c\u9700\u8981\u68c0\u67e5\u5185\u90e8\u662f\u5426\u5b58\u5728\u56de\u6587\u5b50\u5e8f\u5217</p>\n<p><code>dp[i][j]=dp[i+1][j]+dp[i][j-1]-dp[i+1][j-1]</code></p>\n</li>\n<li>\n<p>\u5f53<code>S[i]===S[j]</code>\u65f6\uff0c\u9700\u8981\u53bb\u627e<code>i</code>\u5f80\u53f3\u627e\u6700\u8fd1\u7684\u4e0e<code>S[i]</code>\u76f8\u7b49\u7684\u7d22\u5f15<code>left</code>\u548c<code>j</code>\u5f80\u5de6\u627e\u6700\u8fd1\u7684\u4e0e<code>S[i]</code>\u76f8\u7b49\u7684\u7d22\u5f15<code>right</code></p>\n<ul>\n<li>\n<p>\u5982\u679c<code>left&gt;right</code>\uff0c\u8bf4\u660e\u5185\u90e8\u4e0d\u5b58\u5728\u4e0e<code>S[i]</code>\u91cd\u590d\u7684\u503c</p>\n<p><code>dp[i][j]=dp[i+1][j-1]*2+2</code>\uff0c<code>+2</code>\u662f\u56e0\u4e3a\u591a\u4e86<code>S[i]</code>\u548c<code>S[i]S[i]</code>\u8fd9\u4e24\u79cd\u7ec4\u5408\u3002</p>\n</li>\n<li>\n<p>\u5982\u679c<code>left===right</code>\uff0c\u8bf4\u660e\u5185\u90e8\u5b58\u5728\u552f\u4e00\u4e00\u4e2a\u4e0e<code>S[i]</code>\u91cd\u590d\u7684\u503c</p>\n<p><code>dp[i][j]=dp[i+1][j-1]*2+1</code>\uff0c\u5176\u4e2d<code>+1</code>\u662f\u56e0\u4e3a<code>S[i]</code>\u8fd9\u79cd\u7ec4\u5408\u5df2\u7ecf\u5b58\u5728\uff0c\u4e0d\u80fd\u91cd\u590d\u3002</p>\n</li>\n<li>\n<p>\u5176\u4f59\u60c5\u51b5\uff0c\u8bf4\u660e\u5185\u90e8\u5b58\u5728\u591a\u4e2a\u4e0e<code>S[i]</code>\u91cd\u590d\u7684\u503c</p>\n<p><code>dp[i][j]=dp[i+1][j-1]*2-dp[left+1][right-1]</code>\uff0c\u8fd9\u91cc\u6ca1\u6709<code>+2</code>\u56e0\u4e3a<code>S[i]</code>\u548c<code>S[i]S[i]</code>\u8fd9\u4e24\u79cd\u7ec4\u5408\u5df2\u7ecf\u88ab\u4f7f\u7528\u4e86\uff0c\u53e6\u5916<code>-dp[left+1][right-1]</code>\u56e0\u4e3a\u5b83\u5185\u90e8\u7684\u7ec4\u5408\u4e0d\u80fd\u518d\u4e0e<code>S[i]...S[i]</code>\u7ec4\u5408\uff0c\u56e0\u4e3a\u91cd\u590d\u4e86\u3002</p>\n<p>\u4f8b\u5982\uff0c<code>ababbaba</code>\uff0c\u8fd9\u91cc<code>i</code>\u4e3a0\uff0c<code>j</code>\u4e3a7\uff0c<code>left</code>\u4e3a2\uff0c<code>right</code>\u4e3a5\uff0c\u5728<code>[3,4]</code>\u5373<code>bb</code>\uff0c\u56e0\u4e3a\u5b58\u5728<code>abba</code>\u8fd9\u4e2a\u5b50\u5e8f\u5217\uff0c\u56e0\u6b64\u6700\u5916\u5c42\u7684'a...a'\u4e0d\u80fd\u518d\u4e0e<code>bb</code>\u7ec4\u5408\u3002</p>\n</li>\n</ul>\n</li>\n</ul>\n",content:"<p>\u7ed9\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32 S\uff0c\u627e\u51fa S \u4e2d\u4e0d\u540c\u7684\u975e\u7a7a\u56de\u6587\u5b50\u5e8f\u5217\u4e2a\u6570\uff0c\u5e76<strong>\u8fd4\u56de\u8be5\u6570\u5b57\u4e0e <code>10^9 + 7 </code>\u7684\u6a21\u3002</strong></p>\n\n<p>\u901a\u8fc7\u4ece S \u4e2d\u5220\u9664 0 \u4e2a\u6216\u591a\u4e2a\u5b57\u7b26\u6765\u83b7\u5f97\u5b50\u5b57\u7b26\u5e8f\u5217\u3002</p>\n\n<p>\u5982\u679c\u4e00\u4e2a\u5b57\u7b26\u5e8f\u5217\u4e0e\u5b83\u53cd\u8f6c\u540e\u7684\u5b57\u7b26\u5e8f\u5217\u4e00\u81f4\uff0c\u90a3\u4e48\u5b83\u662f\u56de\u6587\u5b57\u7b26\u5e8f\u5217\u3002</p>\n\n<p>\u5982\u679c\u5bf9\u4e8e\u67d0\u4e2a&nbsp;&nbsp;<code>i</code>\uff0c<code>A_i != B_i</code>\uff0c\u90a3\u4e48&nbsp;<code>A_1, A_2, ...</code> \u548c&nbsp;<code>B_1, B_2, ...</code> \u8fd9\u4e24\u4e2a\u5b57\u7b26\u5e8f\u5217\u662f\u4e0d\u540c\u7684\u3002</p>\n\n<p>&nbsp;</p>\n\n<p><strong>\u793a\u4f8b 1\uff1a</strong></p>\n\n<pre><strong>\u8f93\u5165\uff1a</strong>\nS = &#39;bccb&#39;\n<strong>\u8f93\u51fa\uff1a</strong>6\n<strong>\u89e3\u91ca\uff1a</strong>\n6 \u4e2a\u4e0d\u540c\u7684\u975e\u7a7a\u56de\u6587\u5b50\u5b57\u7b26\u5e8f\u5217\u5206\u522b\u4e3a\uff1a&#39;b&#39;, &#39;c&#39;, &#39;bb&#39;, &#39;cc&#39;, &#39;bcb&#39;, &#39;bccb&#39;\u3002\n\u6ce8\u610f\uff1a&#39;bcb&#39; \u867d\u7136\u51fa\u73b0\u4e24\u6b21\u4f46\u4ec5\u8ba1\u6570\u4e00\u6b21\u3002\n</pre>\n\n<p><strong>\u793a\u4f8b 2\uff1a</strong></p>\n\n<pre><strong>\u8f93\u5165\uff1a</strong>\nS = &#39;abcdabcdabcdabcdabcdabcdabcdabcddcbadcbadcbadcbadcbadcbadcbadcba&#39;\n<strong>\u8f93\u51fa\uff1a</strong>104860361\n<strong>\u89e3\u91ca\uff1a</strong>\n\u5171\u6709 3104860382 \u4e2a\u4e0d\u540c\u7684\u975e\u7a7a\u56de\u6587\u5b50\u5b57\u7b26\u5e8f\u5217\uff0c\u5bf9 10^9 + 7 \u53d6\u6a21\u4e3a 104860361\u3002\n</pre>\n\n<p>&nbsp;</p>\n\n<p><strong>\u63d0\u793a\uff1a</strong></p>\n\n<ul>\n\t<li>\u5b57\u7b26\u4e32&nbsp;<code>S</code>&nbsp;\u7684\u957f\u5ea6\u5c06\u5728<code>[1, 1000]</code>\u8303\u56f4\u5185\u3002</li>\n\t<li>\u6bcf\u4e2a\u5b57\u7b26&nbsp;<code>S[i]</code>&nbsp;\u5c06\u4f1a\u662f\u96c6\u5408&nbsp;<code>{&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;}</code>&nbsp;\u4e2d\u7684\u67d0\u4e00\u4e2a\u3002</li>\n</ul>\n\n<p>&nbsp;</p>\n"}}}]);
//# sourceMappingURL=sourceCode-content731.06d11dca.chunk.js.map