(window.webpackJsonp=window.webpackJsonp||[]).push([[869],{1136:function(s){s.exports={content:'<p>\u601d\u8def\uff1a\u5229\u7528\u5bf9\u79f0\u601d\u60f3</p>\n<ol>\n<li>\n<p>\u5148\u5c06\u539f\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u8f6c\u6362\u6210 <code>#x$x$x$</code> \u7684\u5f62\u5f0f(\u4e00\u5b9a\u662f\u5947\u6570)</p>\n</li>\n<li>\n<p>p\u4e3a\u4e00\u4e2a\u6570\u7ec4\uff0c\u50a8\u5b58\u6bcf\u4e00\u4e2a\u503c\u7684\u6700\u5927\u56de\u6587\u6570\u91cf\u7684\u4e00\u534a+1\uff0c\u4f8b\u5982\uff1a\'ababa\' \u5bf9\u5e94\u7684p \u5c31\u662f<code>[1,2,3,2,1]</code></p>\n</li>\n<li>\n<p><code>max</code>\u4e3a\u5f53\u524d\u5df2\u7ecf\u8ba1\u7b97\u8fc7\u5f97\u6700\u5927\u56de\u6587\u91cf<code>p[id]</code>+\u5bf9\u5e94\u7684\u4f4d\u7f6e<code>id</code>\uff0c\u9ed8\u8ba4\u4e3a0\u6216\u8005-infinity\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u6700\u540e\u7684max\u548cid\u4e0d\u4e3a0</p>\n</li>\n<li>\n<p>\u904d\u5386\u53d8\u5f62\u7684\u5b57\u7b26\u4e32\uff0c\u6307\u9488\u4e3a<code>i</code></p>\n<p><code>i</code>\u5728\u5f53\u524d<code>max</code>\u6240\u6db5\u76d6\u7684\u8303\u56f4\u5185\uff0c\u5982\u4e0b\u56fe\uff0c<code>i</code>\u5728<code>max</code>\u8303\u56f4\u5185\uff0c<code>j</code>\u662f\u5bf9\u79f0\u7684\u70b9</p>\n<pre class="hljs"><code>  j        i\n------id------\n</code></pre>\n<p>\u52064\u79cd\u60c5\u51b5:</p>\n<ol>\n<li>\n<p><code>j</code>\u8d85\u51fa\u8303\u56f4\uff0c\u90a3\u4e48<code>i</code>\u53ea\u53d6\u8303\u56f4\u5185</p>\n<pre class="hljs"><code>---j---      -i-\n  ------id------              \n</code></pre>\n</li>\n<li>\n<p><code>j</code>\u8fb9\u754c\u521a\u597d\u5728\u8303\u56f4\u4e0a\uff0c\u4e0d\u4ec5\u5c06<code>i</code>\u8bbe\u7f6e\uff0c\u5e76\u4e14\u8fd8\u8981\u7ee7\u7eed\u6269\u5c55<code>i</code>\uff0c\u56e0\u4e3a\u867d\u7136<code>j</code>\u5de6\u8fb9\u4e0d\u5b58\u5728\uff0c\u4f46<code>i</code>\u7684\u53f3\u8fb9\u4e0d\u786e\u5b9a</p>\n<pre class="hljs"><code> --j--    --i--\n ------id------   =&gt;  \u7ee7\u7eed\u6269\u5c55i\n</code></pre>\n</li>\n<li>\n<p><code>j</code>\u8fb9\u754c\u5728\u8303\u56f4\u5185\uff0c\u53ea\u9700\u8981\u7b80\u5355\u8d4b\u503c\u7ed9<code>i</code>\u5373\u53ef\uff0c\u56e0\u4e3a\u6b64\u65f6<code>j</code>\u548c<code>i</code>\u7684\u503c\u5b8c\u5168\u76f8\u7b49</p>\n<pre class="hljs"><code> -j-      -i-\n------id------\n</code></pre>\n</li>\n<li>\n<p><code>i</code>\u4e0d\u5728\u5f53\u524d<code>max</code>\u6240\u6db5\u76d6\u7684\u8303\u56f4\u5185\uff0c\u9700\u8981\u6269\u5c55</p>\n<pre class="hljs"><code>              i\n------id------     =&gt; \u9700\u8981\u6269\u5c55i\n</code></pre>\n</li>\n</ol>\n</li>\n<li>\n<p>\u6700\u540e\u6269\u5c55\u5b8c\u540e\u91cd\u65b0\u5b9a\u4e49<code>p[i]</code>\u548c<code>max</code>\uff0c<code>id</code>\uff0c\u6700\u7ec8<code>2*(max-id)-1</code>\u5c31\u662f\u6700\u5927\u5b50\u56de\u6587\u5b57\u7b26\u4e32\u957f\u5ea6</p>\n</li>\n</ol>\n<p>\u4ee3\u7801\uff1a</p>\n<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">function</span>  <span class="hljs-title">manacher</span>(<span class="hljs-params">s</span>)</span>{\n  <span class="hljs-comment">// \u8fd9\u91cc\u4e0d\u8bba\u5947\u5076\uff0c\u90fd\u5c06s\u8f6c\u6362\u6210 \'#x$x$x$\' \u7684\u5f62\u5f0f</span>\n  <span class="hljs-keyword">let</span> str=<span class="hljs-string">\'#\'</span>\n  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;s.length;i++) str+=s[i]+<span class="hljs-string">\'$\'</span>\n  <span class="hljs-comment">// p\u4e3a\u4e00\u4e2a\u6570\u7ec4\uff0c\u50a8\u5b58\u6bcf\u4e00\u4e2a\u503c\u7684\u6700\u5927\u56de\u6587\u6570\u91cf\u7684\u4e00\u534a+1\uff0c\u4f8b\u5982\uff1a\'ababa\' \u5bf9\u5e94\u7684p \u5c31\u662f[1,2,3,2,1]</span>\n  <span class="hljs-keyword">let</span> p=[<span class="hljs-number">1</span>]\n  <span class="hljs-comment">// max\u4e3a\u5f53\u524d\u5df2\u7ecf\u8ba1\u7b97\u8fc7\u5f97\u6700\u5927\u56de\u6587\u91cf(p[id])+\u5bf9\u5e94\u7684\u4f4d\u7f6e(id)\uff0c\u9ed8\u8ba4\u4e3a0\u6216\u8005-infinity\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u6700\u540e\u7684max\u548cid\u4e0d\u4e3a0</span>\n  <span class="hljs-keyword">let</span> max=<span class="hljs-number">0</span>,id=<span class="hljs-number">0</span>\n  <span class="hljs-comment">// \u66b4\u529b\u8ba1\u7b97\u65f6\uff0c\u4ece\u5de6\u53f3\u4ec0\u4e48\u4f4d\u7f6e\u5f00\u59cb\u8fdb\u884c\u5bf9\u6bd4</span>\n  <span class="hljs-keyword">let</span> temp=<span class="hljs-number">1</span>\n  <span class="hljs-comment">// newCenter\u662f\u76ee\u524d\u9700\u8981\u91cd\u65b0\u66b4\u529b\u8ba1\u7b97\u7684\u4f4d\u7f6e</span>\n  <span class="hljs-keyword">let</span> newCenter=<span class="hljs-number">0</span>\n  <span class="hljs-comment">// \u4ece\u7b2c\u4e00\u4e2a\u5f00\u59cb\u904d\u5386\uff0c\u7b2c0\u4e2a\u4e0d\u7528\u7ba1\uff0c\u662f\'#\'</span>\n  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">1</span>;i&lt;str.length;i++){\n    <span class="hljs-comment">// i\u5728\u5f53\u524dmax\u6240\u6db5\u76d6\u7684\u8303\u56f4\u5185\uff0c\u5982\u4e0b\u56fe\uff0ci\u5728max\u8303\u56f4\u5185\uff0cj\u662f\u5bf9\u79f0\u7684\u70b9</span>\n    <span class="hljs-comment">/*\n      *        j        i\n      *      ------id------\n    * */</span>\n    <span class="hljs-keyword">if</span>(max&gt;i){\n      <span class="hljs-comment">// \u5728\u8303\u56f4\u5185\u5bf9\u79f0\u7684\u4f4d\u7f6e</span>\n      <span class="hljs-keyword">let</span> j=id-(i-id)\n      <span class="hljs-comment">// \u901a\u8fc7boundary\u5224\u65ad\u5bf9\u79f0\u4f4d\u7f6e\u90a3\u4e2a\u662f\u5426\u4f1a\u8d85\u51fa\u8303\u56f4</span>\n      <span class="hljs-keyword">let</span> boundary=p[j]+i\n      <span class="hljs-comment">// j\u8d85\u51fa\u8303\u56f4\uff0c\u90a3\u4e48i\u53ea\u53d6\u8303\u56f4\u5185\uff0c\u5982\u4e0b\u56fe</span>\n      <span class="hljs-comment">/*\n      *    ---j---      -i-\n      *      ------id------\n      * */</span>\n      <span class="hljs-keyword">if</span>(boundary&gt;max){\n        p[i]=p[j]-(boundary-max)\n        <span class="hljs-keyword">continue</span>;\n      <span class="hljs-comment">// j\u8fb9\u754c\u521a\u597d\u5728\u8303\u56f4\u4e0a\uff0c\u4e0d\u4ec5\u5c06i\u8bbe\u7f6e\uff0c\u5e76\u4e14\u8fd8\u8981\u7ee7\u7eed\u6269\u5c55i\uff0c\u5373\u8bbe\u7f6enewCenter\u548ctemp</span>\n        <span class="hljs-comment">/*\n        *      --j--    --i--\n        *      ------id------   =&gt;  \u7ee7\u7eed\u6269\u5c55i\n        * */</span>\n      }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(boundary===max){\n        temp=p[j]\n        newCenter=i\n      <span class="hljs-comment">// j\u8fb9\u754c\u5728\u8303\u56f4\u5185\uff0c\u53ea\u9700\u8981\u7b80\u5355\u8d4b\u503c\u7ed9i\u5373\u53ef\uff0c\u56e0\u4e3a\u6b64\u65f6j\u548ci\u7684\u503c\u5b8c\u5168\u76f8\u7b49</span>\n        <span class="hljs-comment">/*\n        *       -j-      -i-\n        *      ------id------\n        * */</span>\n      }<span class="hljs-keyword">else</span>{\n        p[i]=p[j]\n        <span class="hljs-keyword">continue</span>;\n      }\n      <span class="hljs-comment">// i\u4e0d\u5728\u5f53\u524dmax\u6240\u6db5\u76d6\u7684\u8303\u56f4\u5185\uff0c\u9700\u8981\u66b4\u529b\u8ba1\u7b97\uff0c\u5982\u4e0b\u56fe</span>\n      <span class="hljs-comment">/*\n        *                     i\n        *      ------id------     =&gt; \u9700\u8981\u6269\u5c55i\n      * */</span>\n    }<span class="hljs-keyword">else</span>{\n      temp=<span class="hljs-number">1</span>\n      newCenter=i\n    }\n    <span class="hljs-comment">// \u66b4\u529b\u8ba1\u7b97</span>\n    <span class="hljs-keyword">while</span>(newCenter-temp&gt;=<span class="hljs-number">0</span> &amp;&amp; newCenter+temp &lt;str.length &amp;&amp; str[newCenter-temp]===str[newCenter+temp]){\n      temp++\n    }\n    <span class="hljs-comment">// \u66b4\u529b\u8ba1\u7b97\u5b8c\u540e\u91cd\u65b0\u5b9a\u4e49p[i]\u548cmax\uff0cid</span>\n    p[i]=temp\n    <span class="hljs-keyword">if</span>(p[i]&gt;max-id){\n      max=p[i]+i\n      id=i\n    }\n  }\n  <span class="hljs-comment">// \u6b64\u65f62*(max-id)-1\u5c31\u662f\u6700\u5927\u56de\u6587\u5b57\u7b26\u4e32\u7684length</span>\n\n  <span class="hljs-comment">// \u53bb\u6389# \u548c $\u7b26\u53f7</span>\n  <span class="hljs-keyword">let</span> res=str[id],realRes=<span class="hljs-string">\'\'</span>\n  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">1</span>;i&lt;max-id;i++){\n    res=str[id-i]+res+str[id+i]\n  }\n  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;res.length;i++){\n    <span class="hljs-keyword">if</span>(res[i]===<span class="hljs-string">\'$\'</span> || res[i]===<span class="hljs-string">\'#\'</span>)<span class="hljs-keyword">continue</span>\n    realRes+=res[i]\n  }\n  <span class="hljs-keyword">return</span> realRes\n}\n</code></pre>\n<p>\u6d4b\u8bd5\uff1a</p>\n<pre class="hljs"><code><span class="hljs-keyword">let</span> test=[<span class="hljs-string">"abb"</span>,<span class="hljs-string">"a"</span>,<span class="hljs-string">"aaaabaaa"</span>,<span class="hljs-string">"bb"</span>,<span class="hljs-string">"ccc"</span>,<span class="hljs-string">\'abbxz\'</span>,<span class="hljs-string">\'accbcca\'</span>,<span class="hljs-string">\'\'</span>,<span class="hljs-string">\'abaxabaxabybaxabyb\'</span>]\n<span class="hljs-keyword">let</span> answer=[<span class="hljs-string">\'bb\'</span>,<span class="hljs-string">\'a\'</span>,<span class="hljs-string">\'aaabaaa\'</span>,<span class="hljs-string">\'bb\'</span>,<span class="hljs-string">\'ccc\'</span>,<span class="hljs-string">\'bb\'</span>,<span class="hljs-string">\'accbcca\'</span>,<span class="hljs-string">\'\'</span>,<span class="hljs-string">\'baxabybaxab\'</span>]\n<span class="hljs-keyword">let</span> res\n<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;test.length;i++){\nres=manacher(test[i])\n  <span class="hljs-built_in">console</span>.log(res===answer[i])\n}\n</code></pre>\n'}}}]);
//# sourceMappingURL=sourceCode-content86.c1e87d69.chunk.js.map