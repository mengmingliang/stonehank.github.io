(window.webpackJsonp=window.webpackJsonp||[]).push([[914],{1140:function(s){s.exports={content:'<p>indexedDB\n\u5728\u5ba2\u6237\u7aef\u8fdb\u884c\u4fdd\u5b58\u4fdd\u5b58\uff1a</p>\n<pre class="hljs"><code>{id: 1, name: &quot;\u5f20\u4e09&quot;, age: 24, email: &quot;zhangsan@example.com&quot;}\n{id: 2, name: &quot;\u674e\u56db&quot;, age: 54, email: &quot;lisi@example.com&quot;}\n{id: 3, name: &quot;\u738b\u4e94&quot;, age: 36, email: &quot;wangwu@example.com&quot;}\n</code></pre>\n<ul>\n<li>\u6b65\u9aa41-\u521b\u5efa\u6570\u636e\u5e93</li>\n</ul>\n<pre class="hljs"><code><span class="hljs-keyword">var</span> request = <span class="hljs-built_in">window</span>.indexedDB.open(<span class="hljs-string">"test"</span>, <span class="hljs-number">1</span>);\n<span class="hljs-keyword">var</span> db\n</code></pre>\n<ul>\n<li>\u6b65\u9aa42-\u521b\u5efa\u6570\u636e\u8868\uff0c\u6dfb\u52a0\u521d\u59cb\u6570\u636e</li>\n</ul>\n<pre class="hljs"><code>request = <span class="hljs-built_in">window</span>.indexedDB.open(<span class="hljs-string">"test"</span>, <span class="hljs-number">1</span>);\nrequest.onupgradeneeded=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{\n  db = e.target.result;\n  <span class="hljs-keyword">var</span> objectStore;\n  <span class="hljs-keyword">if</span> (!db.objectStoreNames.contains(<span class="hljs-string">\'person\'</span>)) {\n    objectStore = db.createObjectStore(<span class="hljs-string">\'person\'</span>, { <span class="hljs-attr">keyPath</span>: <span class="hljs-string">\'id\'</span> });\n  }\nobjectStore.add({<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"\u5f20\u4e09"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">24</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">"zhangsan@example.com"</span>})\n}\n</code></pre>\n<ul>\n<li>\u6b65\u9aa43-\u589e\u52a0\u6570\u636e</li>\n</ul>\n<pre class="hljs"><code>  add()\n<span class="hljs-comment">// db\u5b58\u5728</span>\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params"></span>)</span>{\n  <span class="hljs-keyword">var</span> addReq\n  <span class="hljs-keyword">var</span> tra=db.transaction([<span class="hljs-string">\'person\'</span>],<span class="hljs-string">\'readwrite\'</span>)\n  <span class="hljs-keyword">var</span> objS=tra.objectStore(<span class="hljs-string">\'person\'</span>)\n  addReq=objS.add({<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"\u674e\u56db"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">54</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">"lisi@example.com"</span>})\n  addReq=objS.add({<span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"\u738b\u4e94"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">36</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">"wangwu@example.com"</span>})\n  addReq.onsuccess = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>{\n    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">\'\u6570\u636e\u5199\u5165\u6210\u529f\'</span>);\n  };\n\n  addReq.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>{\n    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">\'\u6570\u636e\u5199\u5165\u5931\u8d25\'</span>);\n  }\n}\n\n</code></pre>\n<ul>\n<li>\u6b65\u9aa44-\u67e5\u627e\u6570\u636e\u8868</li>\n</ul>\n<pre class="hljs"><code>request = <span class="hljs-built_in">window</span>.indexedDB.open(<span class="hljs-string">"test"</span>, <span class="hljs-number">1</span>);\nrequest.onsuccess=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{\n  db=e.target.result\n  <span class="hljs-keyword">var</span> tra=db.transaction([<span class="hljs-string">\'person\'</span>])\n  <span class="hljs-keyword">var</span> objS=tra.objectStore(<span class="hljs-string">\'person\'</span>)\n  <span class="hljs-built_in">console</span>.log(objS.getAll().result)\n}\n</code></pre>\n<p>\u53c2\u8003\uff1a<a href="https://wangdoc.com/javascript/bom/indexeddb.html">https://wangdoc.com/javascript/bom/indexeddb.html</a></p>\n'}}}]);
//# sourceMappingURL=sourceCode-content90.0f638311.chunk.js.map