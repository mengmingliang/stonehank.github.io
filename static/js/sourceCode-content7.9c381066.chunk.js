(window.webpackJsonp=window.webpackJsonp||[]).push([[692],{1058:function(s){s.exports={content:'<h4>\u521b\u5efa\u6570\u7ec4\u7684\u601d\u8003</h4>\n<p><code>lodash.js---&gt;.internal--&gt;baseClone.js</code>\u5185\u90e8</p>\n<p>\u6709\u4e00\u53e5\uff1a<code>const result = new array.constructor(length)</code></p>\n<p>\u8fd9\u91ccarray\u662f\u4e00\u4e2a\u7ecf\u8fc7<code>Array.isArray(array)===true</code>\u5224\u65ad\u7684\u6570\u7ec4\uff0c</p>\n<p>\u8fd9\u53e5\u8bdd\u5c31\u662f\u4f7f\u7528\u539f\u6570\u7ec4\u7684\u6784\u9020\u51fd\u6570\u53bb\u521b\u5efa\uff0c\u53c2\u6570\u662f\u539f\u6570\u7ec4\u7684\u957f\u5ea6\u3002</p>\n<p>\u90a3\u4e48\u4e3a\u4ec0\u4e48\u4e0d\u76f4\u63a5<code>const result = new Array(length)</code></p>\n<p>\u56e0\u4e3a\u5982\u679c\u6211\u4eec\u4f7f\u7528\u4e86\u81ea\u5b9a\u4e49\u6784\u9020\u51fd\u6570\uff0c<code>new Array</code>\u5219\u4f1a\u5c06\u81ea\u5b9a\u4e49\u65b9\u6cd5\u90fd\u5220\u9664</p>\n<p>\u4f8b\u5982\uff1a</p>\n<p>\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6784\u9020\u51fd\u6570(Array),\u5305\u542b\u81ea\u5b9a\u4e49sum\u548cavg\u65b9\u6cd5</p>\n<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">CustomArray</span>(<span class="hljs-params">length=<span class="hljs-number">0</span></span>)</span>{\n  <span class="hljs-keyword">let</span> custom=<span class="hljs-built_in">Object</span>.create([],<span class="hljs-built_in">Array</span>.prototype)\n  <span class="hljs-keyword">let</span> proto=<span class="hljs-built_in">Object</span>.getPrototypeOf(custom)\n  proto.constructor=CustomArray\n  proto.sum=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{\n    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.reduce(<span class="hljs-function">(<span class="hljs-params">acc,cur</span>)=&gt;</span>acc+cur,<span class="hljs-number">0</span>)\n  }\n  proto.avg=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{\n    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sum()/<span class="hljs-keyword">this</span>.length\n  }\n  <span class="hljs-keyword">return</span> custom\n}\n</code></pre>\n<p>\u9a8c\u8bc1\uff1a</p>\n<pre class="hljs"><code><span class="hljs-keyword">let</span> myArray=<span class="hljs-keyword">new</span> CustomArray()\nmyArray.push(<span class="hljs-number">5</span>)\nmyArray.push(<span class="hljs-number">6</span>)\nmyArray.push(<span class="hljs-number">7</span>)\nmyArray.sum() <span class="hljs-comment">// 18</span>\nmyArray.avg() <span class="hljs-comment">// 6</span>\n</code></pre>\n<p>\u4f7f\u7528<code>new array.constructor</code></p>\n<pre class="hljs"><code><span class="hljs-keyword">const</span> {length}=myArray\n<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">new</span> myArray.constructor(length)\nresult.push(<span class="hljs-number">5</span>)\nresult.push(<span class="hljs-number">6</span>)\nresult.push(<span class="hljs-number">7</span>)\nresult.sum()   <span class="hljs-comment">// 18</span>\nresult.avg()   <span class="hljs-comment">// 6</span>\n</code></pre>\n<p>\u4f7f\u7528<code>new Array</code></p>\n<pre class="hljs"><code><span class="hljs-keyword">const</span> {length}=myArray\n<span class="hljs-keyword">const</span> resultRaw = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(length)\nresultRaw.push(<span class="hljs-number">5</span>)\nresultRaw.push(<span class="hljs-number">6</span>)\nresultRaw.push(<span class="hljs-number">7</span>)\nresultRaw.sum()   <span class="hljs-comment">// \u62a5\u9519 not a function</span>\nresultRaw.avg()   <span class="hljs-comment">// \u62a5\u9519 not a function</span>\n</code></pre>\n'}}}]);
//# sourceMappingURL=sourceCode-content7.9c381066.chunk.js.map