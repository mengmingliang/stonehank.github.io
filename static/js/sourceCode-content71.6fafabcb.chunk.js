(window.webpackJsonp=window.webpackJsonp||[]).push([[704],{1122:function(s){s.exports={content:'<ol>\n<li><code>SPA</code>\u7684router\u8df3\u8f6c\u540e\u7acb\u523b\u56de\u5230\u6700\u9876\u7aef</li>\n</ol>\n<p>\u6838\u5fc3\uff1a\u6dfb\u52a0<code>window.scrollTo(0, 0)</code></p>\n<p>\u53ef\u4ee5\u5728\u6bcf\u4e00\u4e2a<code>Component</code>\u91cc\u9762\u5199\uff0c\u4e5f\u53ef\u4ee5\u5305\u88f9<code>Route</code></p>\n<pre class="hljs"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ScrollToTopRoute</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{\n  componentDidUpdate(prevProps) {\n    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.props.location.pathname !== prevProps.location.pathname){\n      <span class="hljs-built_in">window</span>.scrollTo(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);\n    }\n  }\n  render() {\n    <span class="hljs-keyword">const</span> { <span class="hljs-attr">component</span>: Component, ...rest } = <span class="hljs-keyword">this</span>.props;\n    <span class="hljs-keyword">return</span> &lt;Route {...rest} render={props =&gt; (&lt;Component {...props} /&gt;)} /&gt;;\n  }\n}\n</code></pre>\n<ol start="2">\n<li>\u5f53url\u7684search\u53d1\u751f\u53d8\u5316\uff0crouter\u4e0d\u672a\u53d1\u751f\u66f4\u65b0\uff0c\u56e0\u4e3a\u9875\u9762\u5e76\u672a\u6539\u53d8</li>\n</ol>\n<p>\u4f8b\u5982\uff1a<code>http://xx.xx.com/search/</code>===&gt;<code>http://xx.xx.com/search/?id=5</code></p>\n<p>\u6838\u5fc3\uff1a\u901a\u8fc7\u7ed9<code>Component</code>\u8bbe\u7f6e<code>key</code>\uff0c\u5f53key\u4e0d\u540c\u65f6\uff0c\u8ba9Component\u5f3a\u5236\u66f4\u65b0</p>\n<pre class="hljs"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ScrollToTopRoute</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{\n  componentDidUpdate(prevProps) {\n    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.props.location.pathname !== prevProps.location.pathname){\n      <span class="hljs-built_in">window</span>.scrollTo(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);\n    }\n  }\n  render() {\n    <span class="hljs-keyword">const</span> { <span class="hljs-attr">component</span>: Component, RouteKey, location, ...rest } = <span class="hljs-keyword">this</span>.props;\n    <span class="hljs-keyword">const</span> Key = RouteKey ? location.pathname + location.search : <span class="hljs-literal">null</span>;\n    <span class="hljs-keyword">return</span> &lt;Route {...rest} render={props =&gt; (&lt;Component {...props} key={Key} /&gt;)} /&gt;;\n  }\n}\n\n// Usage\n&lt;Router history={History}&gt;\n  &lt;Switch&gt;\n    &lt;ScrollToTopRoute exact path="/" component={Home}/&gt;\n    &lt;ScrollToTopRoute exact path="/search" component={Search} RouteKey={true} /&gt;\n  &lt;/Switch&gt;\n&lt;/Router&gt;\n</code></pre>\n<p>\u53c2\u8003\uff1a<a href="https://blog.bitsrc.io/the-love-hate-relationship-between-react-router-and-react-components-dee4aac5956c">The Love-Hate Relationship between React Router and React Components</a></p>\n'}}}]);
//# sourceMappingURL=sourceCode-content71.6fafabcb.chunk.js.map