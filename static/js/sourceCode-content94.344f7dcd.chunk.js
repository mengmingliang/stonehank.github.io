(window.webpackJsonp=window.webpackJsonp||[]).push([[958],{1144:function(s){s.exports={content:'<p>\u4eca\u5929\u78b0\u5230\u4e00\u4e2a\u9700\u6c42\uff0c\u83b7\u53d6\u51fd\u6570\u53c2\u6570\u540d\u79f0\uff0c\n\u521a\u5f00\u59cb\u6253\u7b97\u7528\u6b63\u5219\u53bb\u5904\u7406\uff0c\u4f46\u51fd\u6570\u5199\u6cd5(\u5305\u62eces6)\u4e5f\u633a\u591a\u7684\uff0c</p>\n<p>\u4f8b\u5982\uff1a</p>\n<pre class="hljs"><code>function x(a,b){}\nfunction x(a=5,b=3){}\nlet x=function(a=5,b){}\nlet x=(a=5,b)=&gt;a+b\nlet x=a=&gt;a*2\nfunction x(a,/* b */){}\n</code></pre>\n<p>\u5982\u679c\u7528\u6b63\u5219\u53bb\u517c\u5bb9\u6240\u6709\u60c5\u51b5\uff0c\u8003\u8651\u7684\u4f1a\u6bd4\u8f83\u590d\u6742\uff0c\u800c\u4e14\u4e0d\u80fd\u6709\u51b2\u7a81\u3002</p>\n<p>\u8fd9\u91cc\u4f7f\u7528<code>AST</code>\u8bed\u6cd5\u6811\u53bb\u83b7\u53d6\uff0c\u601d\u8def\u5c31\u662f</p>\n<ol>\n<li>\n<p>\u51fd\u6570\u53ef\u4ee5\u5206\u4e3a3\u7c7b\uff0c\u5206\u522b\u662f</p>\n<p><code>FunctionDeclaration</code>\uff0c\u5bf9\u5e94 <code>function x(a,b){}</code>\n<code>FunctionExpression</code>\uff0c\u5bf9\u5e94<code>let x=function(a=5,b){}</code>\n<code>ArrowFunctionExpression</code>\uff0c\u5bf9\u5e94<code>let x=a=&gt;a*2</code></p>\n</li>\n<li>\n<p>\u83b7\u53d6\u8bed\u6cd5\u5206\u6790\u5305<code>npm install --save esprima</code>\uff0c\n\u83b7\u53d6\u8bed\u6cd5\u6811\u9012\u5f52\u89e3\u6790\u5305<code>npm install --save estraverse</code></p>\n<p>\u4f7f\u7528<code>estraverse</code>\u53bb\u5904\u7406\u8bed\u6cd5\u6811\uff0c\u53ef\u4ee5\u7701\u53bb\u5f88\u591a\u5224\u65ad\u5904\u7406\uff0c\u56e0\u4e3a\u5b83\u5df2\u7ecf\u5e2e\u4f60\u5904\u7406\u597d\u4e86</p>\n</li>\n<li>\n<p>\u7f16\u5199\u4ee3\u7801\u5904\u7406</p>\n</li>\n</ol>\n<pre class="hljs"><code><span class="hljs-keyword">const</span> esprima=<span class="hljs-built_in">require</span>(<span class="hljs-string">\'esprima\'</span>);\n<span class="hljs-keyword">const</span> estraverse =<span class="hljs-built_in">require</span>(<span class="hljs-string">\'estraverse\'</span>);\n<span class="hljs-keyword">const</span> astEsprima=esprima.parse(testFunc)\n<span class="hljs-keyword">let</span> res\n  estraverse.traverse(astEsprima, {\n    <span class="hljs-comment">// estraverse\u9012\u5f52\u8fdb\u5165\u7684\u65f6\u5019\u89e6\u53d1</span>\n    enter: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) </span>{\n      <span class="hljs-comment">// \u51fd\u6570\u5bf9\u5e943\u79cd\u7c7b\u578b</span>\n      <span class="hljs-keyword">if</span>(node.type===<span class="hljs-string">"FunctionDeclaration"</span> || \n      node.type===<span class="hljs-string">"ArrowFunctionExpression"</span> || \n      node.type===<span class="hljs-string">"FunctionExpression"</span>){\n        <span class="hljs-keyword">let</span> params=node.params\n        params=params.map(<span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span>{\n          <span class="hljs-comment">// \u5f53\u53c2\u6570\u662f\u8868\u8fbe\u5f0f\u65f6\uff0c\u9700\u8981\u9012\u5f52\u89e3\u6790\uff0c\u627e\u5230`Identifier`</span>\n          <span class="hljs-keyword">while</span>(o.type!==<span class="hljs-string">\'Identifier\'</span>)o=o.left\n          <span class="hljs-keyword">return</span> o.name\n        })\n        res=params\n        <span class="hljs-comment">// \u4e2d\u65adestraverse\u9012\u5f52</span>\n        <span class="hljs-keyword">this</span>.break()\n      }\n    }\n  });\n</code></pre>\n<hr>\n<p>\u6d4b\u8bd5\uff1a</p>\n<pre class="hljs"><code><span class="hljs-keyword">let</span> test=[\n  <span class="hljs-string">\'function d(a,b,c){}\'</span> <span class="hljs-comment">// returns ["a","b","c"]</span>\n  ,<span class="hljs-string">\'function d(){}\'</span> <span class="hljs-comment">// returns []</span>\n  ,<span class="hljs-string">\'function named(a, b, c) {}\'</span> <span class="hljs-comment">// returns ["a","b","c"]</span>\n  ,<span class="hljs-string">\'function x(a /* = 1 */, b /* = true */) {}\'</span> <span class="hljs-comment">// returns ["a","b"]</span>\n  ,<span class="hljs-string">\'function fprintf(handle, fmt /*, {}*/) {}\'</span> <span class="hljs-comment">// returns ["handle","fmt"]</span>\n  ,<span class="hljs-string">\'function x( a, b = 1, c ){}\'</span> <span class="hljs-comment">// returns ["a","b","c"]</span>\n  ,<span class="hljs-string">\'function x(a=4*(5/3), b) {}\'</span> <span class="hljs-comment">// returns ["a","b"]</span>\n  ,<span class="hljs-string">\'function x(a /* function() yes */, \\n /* no, */b)/* omg! */{}\'</span> <span class="hljs-comment">// returns ["a","b"]</span>\n  ,<span class="hljs-string">\'function x( A, b \\n,c ,d \\n ) \\n {}\'</span> <span class="hljs-comment">// returns ["A","b","c","d"]</span>\n  ,<span class="hljs-string">\'function x(a,b){}\'</span> <span class="hljs-comment">// returns ["a","b"]</span>\n  ,<span class="hljs-string">\'function $args(func) {}\'</span> <span class="hljs-comment">// returns ["func"]</span>\n  ,<span class="hljs-string">\'function Object() {}\'</span> <span class="hljs-comment">// returns []</span>\n  ,<span class="hljs-string">\'e=&gt;{}\'</span>  <span class="hljs-comment">// ["e"]</span>\n  ,<span class="hljs-string">\'(a,b)=&gt;{}\'</span>  <span class="hljs-comment">// ["a","b"]</span>\n  ,<span class="hljs-string">\'(e)=&gt;1\'</span> <span class="hljs-comment">// ["e"]</span>\n  ,<span class="hljs-string">\'(a=65,b=undefined)=&gt;"string"\'</span> <span class="hljs-comment">// ["a","b"]</span>\n  ,<span class="hljs-string">\'ddd=e=&gt;{}\'</span>  <span class="hljs-comment">// ["e"]</span>\n  ,<span class="hljs-string">\'let xx=(e,b)=&gt;{}\'</span> <span class="hljs-comment">// ["e","b"]</span>\n  ,<span class="hljs-string">\'xx=function(bb){}\'</span>  <span class="hljs-comment">// ["bb"]</span>\n  ,<span class="hljs-string">\'let x=function(aa,cc){}\'</span>  <span class="hljs-comment">// ["aa","cc"]</span>\n  ,<span class="hljs-string">`let x=(controller) =&gt;{  \n    }`</span>                      <span class="hljs-comment">// ["controller"] </span>\n]\n</code></pre>\n'}}}]);
//# sourceMappingURL=sourceCode-content94.344f7dcd.chunk.js.map