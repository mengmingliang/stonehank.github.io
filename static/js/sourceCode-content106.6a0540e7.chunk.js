(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1156:function(s){s.exports={content:'<p>KMP\u7b97\u6cd5\u4e2d\uff0c\u5f53\u5bf9\u5e94\u7684\u5b57\u7b26\u4e0d\u5339\u914d\u65f6\uff0c\u9700\u8981\u5bf9\u524d\u4e00\u4e2a\u7d22\u5f15\u8fdb\u884c\u56de\u6eaf</p>\n<p>\u4e00\u822c\u5199\u6cd5\u662f\uff1a</p>\n<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calcNext</span>(<span class="hljs-params">str,pat</span>)</span>{\n  <span class="hljs-comment">/*...*/</span>\n  <span class="hljs-keyword">if</span>(str[k]!==str[j]){\n    <span class="hljs-comment">// \u6709\u4e9b\u4f1a\u5199\u6210k=next[k]\uff0c\u539f\u7406\u662f\u4e00\u6837\u7684</span>\n    <span class="hljs-comment">// \u8fd9\u91cck\u8868\u793a\uff0c\u6240\u5bf9\u5e94\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u5bf9\u6bd4\u7684\u7d22\u5f15</span>\n    <span class="hljs-comment">// k=next[k-1]\u8868\u793a\u627e\u5230k\u7684\u524d\u4e00\u4f4d\u7684\u516c\u5171\u5339\u914d\u524d\u540e\u7f00\u7684\u6570\u91cf\uff0c\u4f5c\u4e3a\u65b0\u7684\u5bf9\u6bd4\u7d22\u5f15</span>\n    k=next[k<span class="hljs-number">-1</span>]\n  }\n}\n</code></pre>\n<p><img src="https://stonehank.github.io/articles/img/KPM%E5%9B%BE%E8%A7%A3.png" alt=""></p>\n<p>\u56fe\u4e2d\uff0c\u5f53K\u548cJ\u4e0d\u80fd\u5339\u914d\u65f6\uff0cA\u548cB\u662f\u5df2\u7ecf\u5339\u914d\u7684\u516c\u5171\u524d\u540e\u7f00</p>\n<p>\u56e0\u6b64A\u548cB\u662f\u5b8c\u5168\u76f8\u7b49</p>\n<p>A\u5185\u90e8\u7684A1,A2\u662f\u5df2\u7ecf\u5339\u914d\u7684\u516c\u5171\u524d\u540e\u7f00</p>\n<p>B\u5185\u90e8\u7684B1,B2\u662f\u5df2\u7ecf\u5339\u914d\u7684\u516c\u5171\u524d\u540e\u7f00</p>\n<p>\u56e0\u6b64A1===A2===B1===B2</p>\n<p>\u8981\u60f3\u627e\u5230\u53ef\u80fd\u548cJ\u5339\u914d\u7684\u6700\u5927\u516c\u5171\u524d\u540e\u7f00\uff0c\u53ea\u80fd\u627eA\u7684\u524d\u7f00(\u56e0\u4e3aA\u7684\u540e\u7f00\u8fde\u7740k\uff0c\u800ck\u4e0d\u76f8\u7b49\uff0c\u6240\u4ee5k\u4e0d\u80fd\u7528\u4e86\uff0c\u53ea\u80fd\u627e\u5b83\u524d\u9762\u7684)\uff0c\u4e0eJ\u8fdb\u884c\u6bd4\u8f83</p>\n<p>\u4e5f\u5c31\u662f\u4ece<code>next[k-1]</code>\u5f00\u59cb\u5339\u914d</p>\n<p>\u4ee3\u7801\uff1a</p>\n<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calcNext</span>(<span class="hljs-params">str</span>)</span>{\n  <span class="hljs-keyword">let</span> i=<span class="hljs-number">1</span>,k=<span class="hljs-number">0</span>\n  <span class="hljs-keyword">let</span> next=[]\n  next[<span class="hljs-number">0</span>]=<span class="hljs-number">0</span>\n  <span class="hljs-keyword">while</span>(i &lt; str.length){\n    <span class="hljs-comment">// \u4e0d\u76f8\u7b49\u65f6</span>\n    <span class="hljs-keyword">if</span>(str[i]!==str[k]){\n      <span class="hljs-comment">// \u5982\u679ck\u5df2\u7ecf\u662f0\u4e86(\u6700\u5c0f\u5c31\u662f0)\uff0c\u76f4\u63a5\u8bbe\u7f6e\u62100</span>\n      <span class="hljs-keyword">if</span>(k===<span class="hljs-number">0</span>)next[i++]=k\n        <span class="hljs-comment">// \u5426\u5219\u5c31\u56de\u6eaf\u5230\u524d\u4e00\u4e2a\u516c\u5171\u524d\u7f00\u7684\u4f4d\u7f6e</span>\n      <span class="hljs-keyword">else</span> {\n        k=next[k<span class="hljs-number">-1</span>]\n      }\n    }<span class="hljs-keyword">else</span>{\n      <span class="hljs-comment">// \u76f8\u7b49\uff0c\u5c31\u76f4\u63a5\u5728k\u7684\u7d22\u5f15\u4e0a+1\uff0c\u8868\u793a\u5339\u914d\u7684length</span>\n      next[i]=k+<span class="hljs-number">1</span>\n      i++;\n      k++;\n    }\n  }\n  <span class="hljs-keyword">return</span> next\n}\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">kpm</span>(<span class="hljs-params">str,pat</span>)</span>{\n  <span class="hljs-keyword">if</span>(pat.length===<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>\n  <span class="hljs-keyword">let</span> next=calcNext(pat)\n  <span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>,j=<span class="hljs-number">0</span>\n  <span class="hljs-keyword">while</span>(i&lt;str.length ){\n    <span class="hljs-keyword">if</span>(str[i]===pat[j]){\n      i++;j++\n      <span class="hljs-comment">// j===pat.length\u8bf4\u660e\u5df2\u7ecf\u5339\u914d\u6210\u529f</span>\n      <span class="hljs-keyword">if</span>(j===pat.length) <span class="hljs-keyword">return</span> i-j\n    }<span class="hljs-keyword">else</span>{\n      <span class="hljs-keyword">if</span>(j===<span class="hljs-number">0</span>){\n        i++\n      }<span class="hljs-keyword">else</span>{\n        j=next[j<span class="hljs-number">-1</span>]\n      }\n    }\n  }\n  <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>\n}\n</code></pre>\n'}}}]);
//# sourceMappingURL=sourceCode-content106.6a0540e7.chunk.js.map