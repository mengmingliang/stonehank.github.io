(window.webpackJsonp=window.webpackJsonp||[]).push([[430],{498:function(s){s.exports={code:['<pre class="hljs"><code><span class="hljs-comment">/**\n * @param {number[][]} heightMap\n * @return {number}\n */</span>\n<span class="hljs-keyword">var</span> trapRainWater = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">heightMap</span>) </span>{\n  <span class="hljs-keyword">let</span> pq=[]\n  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bsEnd</span>(<span class="hljs-params">arr,n</span>)</span>{\n    <span class="hljs-keyword">let</span> lo=<span class="hljs-number">0</span>,hi=arr.length<span class="hljs-number">-1</span>\n    <span class="hljs-keyword">while</span>(lo&lt;hi){\n      <span class="hljs-keyword">let</span> mid=<span class="hljs-built_in">Math</span>.floor((lo+hi)/<span class="hljs-number">2</span>)\n      <span class="hljs-keyword">if</span>(arr[mid][<span class="hljs-number">0</span>]&gt;n)lo=mid+<span class="hljs-number">1</span>\n      <span class="hljs-keyword">else</span> hi=mid\n    }\n    <span class="hljs-keyword">return</span> hi\n  }\n  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">insert</span>(<span class="hljs-params">n</span>)</span>{\n    <span class="hljs-keyword">if</span>(pq.length===<span class="hljs-number">0</span> || pq[pq.length<span class="hljs-number">-1</span>][<span class="hljs-number">0</span>]&gt;=n[<span class="hljs-number">0</span>]){\n      pq.push(n)\n    }<span class="hljs-keyword">else</span>{\n      <span class="hljs-keyword">let</span> idx=bsEnd(pq,n[<span class="hljs-number">0</span>])\n      pq.splice(idx,<span class="hljs-number">0</span>,n)\n    }\n  }\n  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">delMin</span>(<span class="hljs-params"></span>)</span>{\n    <span class="hljs-keyword">return</span> pq.pop()\n  }\n  <span class="hljs-keyword">if</span>(heightMap.length===<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>\n  <span class="hljs-keyword">let</span> m=heightMap.length,n=heightMap[<span class="hljs-number">0</span>].length\n  <span class="hljs-keyword">let</span> moves=[[<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>]]\n  <span class="hljs-keyword">let</span> visited=<span class="hljs-built_in">Array</span>(m).fill().map(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-built_in">Array</span>(n).fill(<span class="hljs-literal">false</span>))\n  <span class="hljs-keyword">let</span> res=<span class="hljs-number">0</span>\n  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;m;i++){\n    insert([heightMap[i][<span class="hljs-number">0</span>],i,<span class="hljs-number">0</span>])\n    insert([heightMap[i][n<span class="hljs-number">-1</span>],i,n<span class="hljs-number">-1</span>])\n    visited[i][<span class="hljs-number">0</span>]=<span class="hljs-literal">true</span>\n    visited[i][n<span class="hljs-number">-1</span>]=<span class="hljs-literal">true</span>\n  }\n  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">1</span>;i&lt;n<span class="hljs-number">-1</span>;i++){\n    insert([heightMap[<span class="hljs-number">0</span>][i],<span class="hljs-number">0</span>,i])\n    insert([heightMap[m<span class="hljs-number">-1</span>][i],m<span class="hljs-number">-1</span>,i])\n    visited[<span class="hljs-number">0</span>][i]=<span class="hljs-literal">true</span>\n    visited[m<span class="hljs-number">-1</span>][i]=<span class="hljs-literal">true</span>\n  }\n  <span class="hljs-keyword">while</span>(pq.length&gt;<span class="hljs-number">0</span>){\n    <span class="hljs-keyword">let</span> [v,x,y]=delMin()\n    check(v,[x,y])\n  }\n  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">check</span>(<span class="hljs-params">v,[x,y]</span>)</span>{\n    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> [dx,dy] <span class="hljs-keyword">of</span> moves){\n      <span class="hljs-keyword">let</span> nx=dx+x,ny=dy+y\n      <span class="hljs-keyword">if</span>(nx&lt;<span class="hljs-number">0</span> || ny&lt;<span class="hljs-number">0</span> || nx&gt;=m || ny&gt;=n)<span class="hljs-keyword">continue</span>\n      <span class="hljs-keyword">if</span>(visited[nx][ny])<span class="hljs-keyword">continue</span>\n      <span class="hljs-keyword">if</span>(heightMap[nx][ny]&lt;=v){\n        res+=v-heightMap[nx][ny]\n        visited[nx][ny]=<span class="hljs-literal">true</span>\n        check(v,[nx,ny])\n      }<span class="hljs-keyword">else</span>{\n        visited[nx][ny]=<span class="hljs-literal">true</span>\n        insert([heightMap[nx][ny],nx,ny])\n      }\n    }    \n  }\n  <span class="hljs-keyword">return</span> res\n};\n</code></pre>\n'],titleSlug:"trapping-rain-water-ii",hasThinking:!0,thinking:'<hr>\n<p>\u601d\u8def\uff1a</p>\n<p>\u9762\u7684\u95ee\u9898\u56e0\u4e3a\u6d89\u53ca4\u4e2a\u65b9\u5411\u7684\u8fb9\uff0c\u4f7f\u7528<code>\u4f18\u5148\u961f\u5217</code>\uff0c\u6bcf\u6b21\u53d6\u51fa\u8fb9\u4e0a\u7684\u6700\u5c0f\u503c\u5904\u7406(\u6700\u5bb9\u6613\u6f0f\u6c34\u7684\u4f4d\u7f6e)\u3002</p>\n<ol>\n<li>\n<p>\u5c064\u6761\u6700\u5916\u8fb9\u7684\u503c\u52a0\u5165<code>\u4f18\u5148\u961f\u5217</code>\uff0c\u5efa\u7acb\u4e00\u4e2a<code>visited</code>\uff0c\u8868\u793a\u5df2\u7ecf\u63a2\u7d22\u8fc7\u7684\u533a\u57df\uff0c\u4e0d\u91cd\u590d\u6267\u884c</p>\n</li>\n<li>\n<p>\u53d6\u51fa\u6700\u5c0f\u503c<code>a</code>\uff0c\u4ece<code>a</code>\u5f00\u59cb\u904d\u5386\uff0c\u4e0d\u8fc7\u8981\u904d\u53864\u4e2a\u65b9\u5411\uff0c<code>visited</code>\u4e3atrue\u7684\u8df3\u8fc7\uff0c\u540c\u65f6\u8bbe\u7f6e\u4e00\u4e2a<code>max</code>\uff0c\n\u7528\u4e8e\u4fdd\u5b58\u5f53\u524d\u6700\u77ee\u7684\u5899\u4e2d\u6700\u9ad8\u7684...(\u56e0\u4e3a\u4f7f\u7528<code>\u4f18\u5148\u961f\u5217</code>\u6bcf\u6b21\u53d6\u51fa\u6700\u5c0f\u503c)</p>\n</li>\n<li>\n<p>\u9047\u5230\u6bd4<code>max</code>\u9ad8\u7684\u5899\uff0c\u5219\u52a0\u5165\u5230<code>\u4f18\u5148\u961f\u5217</code>\u4e2d\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u5899\u5df2\u7ecf\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u65b0\u7684\u8fb9\uff0c</p>\n<p>\u9047\u5230\u4e0d\u6bd4<code>max</code>\u9ad8\u7684\u5e73\u9762\u6216\u8005\u51f9\u53e3\uff0c\u8bb0\u5f55\u589e\u52a0\u7684\u6c34\u4f4d<code>max - \u5f53\u524d\u51f9\u53e3\u7684\u9ad8\u5ea6</code>\uff0c\u7ee7\u7eed\u904d\u5386\u76f4\u5230\u9047\u5230\u6bd4<code>a</code>\u9ad8\u7684\u3002</p>\n</li>\n<li>\n<p>\u76f4\u5230<code>\u4f18\u5148\u961f\u5217</code>\u7684\u6570\u636e\u5168\u90e8\u5904\u7406\u5b8c</p>\n</li>\n</ol>\n<p>\u601d\u8def\u89c6\u9891\uff0c\u975e\u5e38<code>easy</code></p>\n<p><a href="https://www.youtube.com/watch?v=cJayBq38VYw">Visualization of priority queue algorithm.</a></p>\n',content:'<p>\u7ed9\u5b9a\u4e00\u4e2a <code>m x n</code>&nbsp;\u7684\u77e9\u9635\uff0c\u5176\u4e2d\u7684\u503c\u5747\u4e3a\u6b63\u6574\u6570\uff0c\u4ee3\u8868\u4e8c\u7ef4\u9ad8\u5ea6\u56fe\u6bcf\u4e2a\u5355\u5143\u7684\u9ad8\u5ea6\uff0c\u8bf7\u8ba1\u7b97\u56fe\u4e2d\u5f62\u72b6\u6700\u591a\u80fd\u63a5\u591a\u5c11\u4f53\u79ef\u7684\u96e8\u6c34\u3002</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>\u8bf4\u660e:</strong></p>\r\n\r\n<p><em>m&nbsp;</em>\u548c <em>n&nbsp;</em>\u90fd\u662f\u5c0f\u4e8e110\u7684\u6574\u6570\u3002\u6bcf\u4e00\u4e2a\u5355\u4f4d\u7684\u9ad8\u5ea6\u90fd\u5927\u4e8e0 \u4e14\u5c0f\u4e8e 20000\u3002</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>\u793a\u4f8b\uff1a</strong></p>\r\n\r\n<pre>\u7ed9\u51fa\u5982\u4e0b 3x6 \u7684\u9ad8\u5ea6\u56fe:\r\n[\r\n  [1,4,3,1,3,2],\r\n  [3,2,1,3,2,4],\r\n  [2,3,3,2,3,1]\r\n]\r\n\r\n\u8fd4\u56de 4\u3002\r\n</pre>\r\n\r\n<p><img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/12/rainwater_empty.png" style="width: 100%; max-width: 500px;"></p>\r\n\r\n<p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u8fd9\u662f\u4e0b\u96e8\u524d\u7684\u9ad8\u5ea6\u56fe<code>[[1,4,3,1,3,2],[3,2,1,3,2,4],[2,3,3,2,3,1]]</code> \u7684\u72b6\u6001\u3002</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/12/rainwater_fill.png" style="width: 100%; max-width: 500px;"></p>\r\n\r\n<p>\u4e0b\u96e8\u540e\uff0c\u96e8\u6c34\u5c06\u4f1a\u88ab\u5b58\u50a8\u5728\u8fd9\u4e9b\u65b9\u5757\u4e2d\u3002\u603b\u7684\u63a5\u96e8\u6c34\u91cf\u662f4\u3002</p>'}}}]);
//# sourceMappingURL=sourceCode-content463.549e79ac.chunk.js.map