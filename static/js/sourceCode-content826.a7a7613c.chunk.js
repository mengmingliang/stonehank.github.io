(window.webpackJsonp=window.webpackJsonp||[]).push([[832],{861:function(s){s.exports={code:['<pre class="hljs"><code><span class="hljs-comment">/**\n * @param {string} S\n * @return {number}\n */</span>\n<span class="hljs-keyword">var</span> uniqueLetterString = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">S</span>) </span>{\n  <span class="hljs-keyword">if</span>(S===<span class="hljs-string">\'\'</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>\n  <span class="hljs-keyword">let</span> MOD=<span class="hljs-number">1e9</span>+<span class="hljs-number">7</span>,\n      idxes=<span class="hljs-built_in">Array</span>(<span class="hljs-number">26</span>).fill().map(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>[<span class="hljs-number">-1</span>,<span class="hljs-number">-1</span>]),\n      dp=<span class="hljs-built_in">Array</span>(S.length).fill(<span class="hljs-number">0</span>)\n  dp[<span class="hljs-number">0</span>]=<span class="hljs-number">1</span>\n  idxes[S.charCodeAt(<span class="hljs-number">0</span>)<span class="hljs-number">-65</span>]=[<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>]\n  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">1</span>;i&lt;S.length;i++){\n    <span class="hljs-keyword">let</span> code=S.charCodeAt(i)<span class="hljs-number">-65</span>\n    \n    dp[i]=(dp[i<span class="hljs-number">-1</span>]+(dp[i<span class="hljs-number">-1</span>]-(dp[i<span class="hljs-number">-2</span>]||<span class="hljs-number">0</span>))+(i+<span class="hljs-number">1</span>)-(idxes[code][<span class="hljs-number">1</span>]-idxes[code][<span class="hljs-number">0</span>])*<span class="hljs-number">2</span>-(idxes[code][<span class="hljs-number">0</span>]-(<span class="hljs-number">-1</span>))) % MOD\n     updateIdxes(i,code)\n\n  }\n  <span class="hljs-keyword">return</span> dp[dp.length<span class="hljs-number">-1</span>]\n  \n  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateIdxes</span>(<span class="hljs-params">i,code</span>)</span>{\n    <span class="hljs-keyword">let</span> t=idxes[code][<span class="hljs-number">1</span>]\n    idxes[code][<span class="hljs-number">1</span>]=i\n    idxes[code][<span class="hljs-number">0</span>]=t    \n  }\n};\n</code></pre>\n'],titleSlug:"unique-letter-string",hasThinking:!0,thinking:'<hr>\n<p>\u601d\u8def\uff1a</p>\n<p>\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a<code>idxes</code>\u4fdd\u5b58\u6bcf\u4e2a\u5b57\u6bcd\u7684\u524d2\u4e2a\u7d22\u5f15\uff0c\u4e3a\u4ec0\u4e48\u8981\u524d2\u4e2a\u7d22\u5f15\u5462\uff1f</p>\n<p>\u4f8b\u5982\uff1a</p>\n<pre class="hljs"><code>A B C A B C A\n0 1 2 3 4 5 6\n</code></pre>\n<p>\u5728\u6700\u540e\u4e00\u4e2a(\u7d22\u5f15\u4e3a6)\u7684<code>A</code>\u65f6\uff0c\u5b83\u7684\u524d\u4e24\u4e2a\u7d22\u5f15\u5206\u522b\u662f<code>0</code>\u548c<code>3</code>\uff0c\u5199\u6210<code>[0,3]</code>\uff0c\u90a3\u4e48\u5f53\u68c0\u67e5\u5b83\u7684\u5b50\u6570\u7ec4\u65f6\uff0c\n\u6211\u4eec\u9996\u5148\u5c06\u6700\u7406\u60f3\u7684\u72b6\u6001\uff0c\u5373\u6bcf\u4e2a\u5b50\u6570\u7ec4\u90fd\u589e\u52a0<code>1</code>\uff0c\u56e0\u6b64<code>+7</code>\uff0c\u56e0\u4e3a\u5e26\u6709\u7d22\u5f15<code>6</code>\u7684\u5b50\u6570\u7ec4\u6709<code>7</code>\u4e2a\u3002</p>\n<p>\u518d\u770b\uff1a</p>\n<ul>\n<li>\n<p>\u4ece\u7d22\u5f15<code>6</code>\u5230<code>3</code>\u4e4b\u95f4\u8fd93\u4e2a\u6570\uff0c<code>A</code>\u662f\u6ca1\u6709\u91cd\u590d\u503c\u7684\uff0c\u6bcf\u4e2a\u5b50\u6570\u7ec4\u53ef\u4ee5\u589e\u52a0<code>1</code>\u4e2a\u72ec\u7279\u5b57\u7b26\uff0c\u56e0\u6b64\u4e0d\u53d8(\u56e0\u4e3a\u4e4b\u524d<code>+7</code>\u5305\u62ec\u4e86)\u3002</p>\n</li>\n<li>\n<p>\u4ece\u7d22\u5f15<code>3</code>\u5230<code>0</code>\u4e4b\u95f4\u8fd93\u4e2a\u6570\uff0c<code>A</code>\u6709\u4e86\u91cd\u590d\u503c\uff0c\u6bcf\u4e2a\u5b50\u6570\u7ec4\u8981\u51cf\u5c11<code>n</code>\u4e2a\u72ec\u7279\u5b57\u7b26\uff0c\u8fd9<code>n</code>\u662f\u591a\u5c11\u5462\uff1f</p>\n<p>\u56e0\u4e3a\u5728\u4e0a\u4e00\u6b21\uff0c\u5373\u7d22\u5f15<code>5</code>\u65f6\uff0c\u90a3\u65f6\u5019\u4ece\u7d22\u5f15<code>3</code>\u5230<code>0</code>\u4e4b\u95f4\u8fd93\u4e2a\u6570\uff0c<code>A</code>\u662f\u6ca1\u6709\u91cd\u590d\u503c\uff0c\u4ed6\u4eec\u7684\u72ec\u7279\u5b57\u7b26\u90fd\u589e\u52a0<code>1</code>\u3002</p>\n<p>\u800c\u8fd9\u6b21(\u7d22\u5f15<code>6</code>)\uff0c\u8fd9\u51e0\u4e2a\u6570\u7a81\u7136\u6709\u4e86\u91cd\u590d\u503c\uff0c\u90a3\u4e48\u4ed6\u4eec\u7684\u72ec\u7279\u5b57\u7b26\u5219\u9700\u8981<code>-1</code>\uff0c\u56e0\u4e3a\u6211\u4eec\u4e4b\u95f4<code>+7</code>\u91cc\u9762\u8fd9\u91cc\u6bcf\u4e2a\u76f8\u5f53\u4e8e<code>+1</code>\uff0c\n\u56e0\u6b64\u6700\u7ec8\u9700\u8981<code>-2</code>\u3002</p>\n</li>\n<li>\n<p>\u4ece\u7d22\u5f15<code>0</code>\u4e4b\u524d\uff0c<code>A</code>\u5728\u4e4b\u524d\u5c31\u5df2\u7ecf\u6709\u4e86\u91cd\u590d\u503c\uff0c\u518d\u6765\u4e00\u4e2a\u91cd\u590d\u503c\u4e5f\u6ca1\u6709\u5f71\u54cd\uff0c\u56e0\u6b64\u8fd9\u4e4b\u524d\u7684\u4e0d\u9700\u8981\u53d8\u5316\uff0c\u4f46\u6211\u4eec\u4e4b\u524d<code>+7</code>\u7684\u65f6\u5019\uff0c\n\u91cc\u9762\u6bcf\u4e2a\u503c\u90fd<code>+1</code>\uff0c\u56e0\u6b64\u8fd9\u91cc\u9700\u8981<code>-1</code>\u3002</p>\n</li>\n</ul>\n<p>\u56e0\u6b64\u9012\u63a8\u516c\u5f0f\u4e3a<code>dp[i]=dp[i-1]+(dp[i-1]-dp[i-2])+(i+1)-(idxes[code][1]-idxes[code][0])*2-(idxes[code][0]-(-1))</code></p>\n<p>\u8fd9\u91cc<code>dp[i-1]-dp[i-2]</code>\u6307\u7684\u662f\u4e0a\u4e00\u6b21\u7684\u72ec\u7279\u5b57\u7b26\u589e\u52a0\u7684\u6570\u91cf\uff1b</p>\n<p><code>i+1</code>\u6307\u8fd9\u4e00\u6b21\u72ec\u7279\u5b57\u7b26\u6700\u7406\u60f3\u7684\u589e\u52a0\u6570\u91cf\uff1b</p>\n<p><code>(idxes[code][1]-idxes[code][0])*2</code>\u5373\u4e0a\u9762\u4ecb\u7ecd\u7684\u7b2c\u4e00\u9636\u6bb5\u9700\u8981\u51cf\u53bb\u7684\u3002</p>\n<p><code>(idxes[code][0]-(-1))</code>\u5373\u4e0a\u9762\u4ecb\u7ecd\u7b2c\u4e8c\u9636\u6bb5\u9700\u8981\u51cf\u53bb\u7684\u3002</p>\n<p>\u6700\u540e\u6211\u4eec\u9700\u8981\u66f4\u65b0<code>idex</code>\uff0c\u53ea\u9700\u8981\u4fdd\u5b58\u6700\u8fd1\u76842\u4e2a\u7d22\u5f15\u3002</p>\n',content:"<p>\u5982\u679c\u4e00\u4e2a\u5b57\u7b26\u5728\u5b57\u7b26\u4e32&nbsp;<code>S</code>&nbsp;\u4e2d\u6709\u4e14\u4ec5\u6709\u51fa\u73b0\u4e00\u6b21\uff0c\u90a3\u4e48\u6211\u4eec\u79f0\u5176\u4e3a\u72ec\u7279\u5b57\u7b26\u3002</p>\n\n<p>\u4f8b\u5982\uff0c\u5728\u5b57\u7b26\u4e32&nbsp;<code>S = &quot;LETTER&quot;</code>&nbsp;\u4e2d\uff0c<code>&quot;L&quot;</code>&nbsp;\u548c&nbsp;<code>&quot;R&quot;</code>&nbsp;\u53ef\u4ee5\u88ab\u79f0\u4e3a\u72ec\u7279\u5b57\u7b26\u3002</p>\n\n<p>\u6211\u4eec\u518d\u5b9a\u4e49&nbsp;<code>UNIQ(S)</code>&nbsp;\u4f5c\u4e3a\u5b57\u7b26\u4e32&nbsp;<code>S</code>&nbsp;\u4e2d\u72ec\u7279\u5b57\u7b26\u7684\u4e2a\u6570\u3002</p>\n\n<p>\u90a3\u4e48\uff0c\u5728&nbsp;<code>S = &quot;LETTER&quot;</code>&nbsp;\u4e2d\uff0c&nbsp;<code>UNIQ(&quot;LETTER&quot;) =&nbsp; 2</code>\u3002</p>\n\n<p>\u5bf9\u4e8e\u7ed9\u5b9a\u5b57\u7b26\u4e32&nbsp;<code>S</code>\uff0c\u8ba1\u7b97\u5176\u6240\u6709\u975e\u7a7a\u5b50\u4e32\u7684\u72ec\u7279\u5b57\u7b26\u7684\u4e2a\u6570\uff08\u5373&nbsp;<code>UNIQ(substring)</code>\uff09\u4e4b\u548c\u3002</p>\n\n<p>\u5982\u679c\u5728 <code>S</code>&nbsp;\u7684\u4e0d\u540c\u4f4d\u7f6e\u4e0a\u51fa\u73b0\u4e24\u4e2a\u751a\u81f3\u591a\u4e2a\u76f8\u540c\u7684\u5b50\u4e32\uff0c\u90a3\u4e48\u6211\u4eec\u8ba4\u4e3a\u8fd9\u4e9b\u5b50\u4e32\u662f\u4e0d\u540c\u7684\u3002</p>\n\n<p>\u8003\u8651\u5230\u7b54\u6848\u53ef\u80fd\u4f1a\u975e\u5e38\u5927\uff0c\u89c4\u5b9a\u8fd4\u56de\u683c\u5f0f\u4e3a\uff1a\u7ed3\u679c mod&nbsp;<code>10 ^ 9 + 7</code>\u3002</p>\n\n<p>&nbsp;</p>\n\n<p><strong>\u793a\u4f8b 1:</strong></p>\n\n<pre><strong>\u8f93\u5165: </strong>&quot;ABC&quot;\n<strong>\u8f93\u51fa: </strong>10\n<strong>\u89e3\u91ca:</strong> \u6240\u6709\u53ef\u80fd\u7684\u5b50\u4e32\u4e3a\uff1a&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;AB&quot;,&quot;BC&quot; \u548c &quot;ABC&quot;\u3002\n     \u5176\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u5b50\u4e32\u90fd\u7531\u72ec\u7279\u5b57\u7b26\u6784\u6210\u3002\n     \u6240\u4ee5\u5176\u957f\u5ea6\u603b\u548c\u4e3a\uff1a1 + 1 + 1 + 2 + 2 + 3 = 10\n</pre>\n\n<p><strong>\u793a\u4f8b 2:</strong></p>\n\n<pre><strong>\u8f93\u5165: </strong>&quot;ABA&quot;\n<strong>\u8f93\u51fa: </strong>8\n<strong>\u89e3\u91ca: </strong>\u9664\u4e86\u5b50\u4e32 UNIQ(&#39;ABA&#39;) = 1\uff0c\u5176\u4f59\u4e0e\u793a\u4f8b1\u76f8\u540c\u3002\n</pre>\n\n<p>&nbsp;</p>\n\n<p><strong>\u8bf4\u660e:</strong> <code>0 &lt;= S.length &lt;= 10000</code>\u3002</p>\n"}}}]);
//# sourceMappingURL=sourceCode-content826.a7a7613c.chunk.js.map