(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{1074:function(n){n.exports={content:'<h3>\u89c4\u5219\uff1a</h3>\n<ol>\n<li>\u539f\u578b\u662f<code>2-3\u6811</code></li>\n<li>\u7ea2\u94fe\u63a5\uff1a\u76f8\u5f53\u4e8e<code>2-3\u6811</code>\u7684<code>3\u8282\u70b9</code>\uff0c\u7ea2\u94fe\u63a5\u4e2d\u5b50\u8282\u70b9\u662f<code>\u7ea2\u8272</code>\uff0c\u7236\u8282\u70b9\u662f<code>\u9ed1\u8272</code></li>\n<li>\u53ea\u5b58\u5728\u7ea2\u94fe\u63a5\u4e3a\u5de6\u94fe\u63a5\uff0c\u53d1\u73b0\u7ea2\u94fe\u63a5\u4e3a\u53f3\u94fe\u63a5\u9700\u8981\u8f6c\u6362</li>\n<li>\u5f53\u8282\u70b9\u4e3anull\uff0c\u4e5f\u8ba4\u4e3a\u662f<code>\u9ed1\u8272</code></li>\n<li>\u5f53\u63d2\u5165\u8282\u70b9\uff0c\u51fa\u73b02\u4e2a\u5de6\u7ea2\u70b9\u76f8\u90bb(\u4e0d\u53ef\u80fd\u51fa\u73b02\u4e2a\u53f3\u7ea2\u70b9\u76f8\u90bb\uff0c\u56e0\u4e3a\u7b2c3\u6761)\uff0c\u5176\u5b9e\u5c31\u662f<code>2-3\u6811</code>\u4e2d\u51fa\u73b0\u4e86<code>4\u8282\u70b9</code>\uff0c\u9700\u8981\u8f6c\u6362\u3002</li>\n<li>\u5f53\u5220\u9664\u8282\u70b9\uff0c\u9700\u8981\u8ba9\u88ab\u5220\u9664\u7684\u8282\u70b9\u4e3a<code>\u7ea2\u8272</code>(\u901a\u8fc7\u8f6c\u6362)</li>\n<li>\u7ea2\u9ed1\u6811\u7684\u63d2\u5165\u548c\u5220\u9664\u90fd\u662f\u5efa\u8bae\u5728<code>\u9012\u5f52</code>\u6267\u884c\u7684\u57fa\u7840\u4e0a</li>\n</ol>\n<hr>\n<h3>\u63d2\u5165\uff1a</h3>\n<p><img src="https://stonehank.github.io/articles/img/%E7%BA%A2%E9%BB%91%E6%A0%91-%E6%8F%92%E5%85%A5%E8%8A%82%E7%82%B9.png" alt=""></p>\n<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">insert</span>(<span class="hljs-params"></span>)</span>{\n  <span class="hljs-comment">// ...\u6b63\u5e38\u4e8c\u53c9\u6811\u7684\u5904\u7406</span>\n  \n  <span class="hljs-comment">// \u4ee5\u4e0b\u4e09\u6761\u4f1a\u5728\u9012\u5f52\u8fc7\u7a0b\u4e2d\u5904\u7406</span>\n  <span class="hljs-keyword">if</span>(isRed(node.left) &amp;&amp; isRed(node.right)) flipColors(node)\n  <span class="hljs-keyword">if</span>(!isRed(node.left) &amp;&amp; isRed(node.right))node=rotateLeft(node)\n  <span class="hljs-keyword">if</span>(isRed(node.left) &amp;&amp; isRed(node.left.left))node=rotateRight(node)\n}\n</code></pre>\n<p><img src="https://stonehank.github.io/articles/img/%E7%BA%A2%E9%BB%91%E6%A0%91-%E6%8F%92%E5%85%A5%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.png" alt=""></p>\n<p>\u4f8b(B\u4ee3\u8868<code>black</code>, R\u4ee3\u8868<code>red</code>)\uff1a</p>\n<pre class="hljs"><code>                              R3\u4e3a\u53f3\u7ea2\u5de6\u9ed1       R5\u4e3a\u5de6\u7ea2\u5de6\u5de6\u7ea2        \u6b64\u65f6\u5df2\u7ecf\u5230\u8fbe\u6839\u8282\u70b9\uff0c\u867d\u7136\u5de6\u7ea2\u53f3\u7ea2\uff0c\n    B5       \u6dfb\u52a04     B5      \u6267\u884c\u7b2c\u4e8c\u6761     B5   \u6267\u884c\u7b2c\u4e09\u6761     B4    \u4f46\u4e0d\u4f1a\u6267\u884c\u7b2c\u4e00\u6761\uff0c\u7559\u5230\u4e0b\u4e00\u6b21\u6267\u884c \n   /  \\      ---&gt;     /  \\      ---&gt;        /  \\     ---&gt;      /  \\   \n  R3  Null          R3  Null              R4  Null            R3   R5   \n                     \\                   /                                          \n                      R4               R3                                           \n</code></pre>\n<hr>\n<h3>\u5220\u9664\uff1a</h3>\n<h4>\u5de6\u8282\u70b9</h4>\n<p><img src="https://stonehank.github.io/articles/img/%E7%BA%A2%E9%BB%91%E6%A0%91-%E5%88%A0%E9%99%A4(%E5%B7%A6%E8%8A%82%E7%82%B9).png" alt=""></p>\n<pre class="hljs"><code><span class="hljs-keyword">if</span> (val &lt; node.val)  {\n  <span class="hljs-comment">// \u68c0\u6d4b\u5de6\u8282\u70b9\u5982\u679c\u662f2\u8282\u70b9(\u9ed1\u8272)\uff0c\u90a3\u4e48\u9700\u8981\u5c06\u5b83\u53d8\u4e3a3\u8282\u70b9(\u7ea2\u8272)\u518d\u5220\u9664</span>\n  node=checkLeftNodeAndMove(node)\n  <span class="hljs-comment">// \u7ee7\u7eed\u5f80\u4e0b\u6267\u884c</span>\n  node.left = _remove(node.left, val);\n}<span class="hljs-keyword">else</span>{ <span class="hljs-comment">/* ... */</span>}\n</code></pre>\n<p>\u5728<code>checkLeftNodeAndMove</code>\u5185\u90e8\uff0c\u5982\u679c\u68c0\u6d4b\u5230\u5de6\u8fb9\u662f\u4e2a<code>2\u8282\u70b9</code>(\u5de6\u9ed1 &amp; \u5de6\u5de6\u9ed1)\uff0c\u90a3\u4e48\u5148<code>flipColors</code>\uff0c\u8fd9\u4e48\u505a\u662f\u4e3a\u4e86\u8ba9\u5f53\u524d<code>node</code>\u5148\n\u6210\u4e3a\u4e00\u4e2a<code>3\u8282\u70b9</code>\u6216\u8005<code>4\u8282\u70b9</code>(\u5de6\u7ea2,\u53f3\u7ea2?)\uff0c\u8ba9\u5de6\u8282\u70b9(<code>2\u8282\u70b9</code>)\u53ef\u4ee5\u901a\u8fc7\u53f3\u8282\u70b9\u6216\u8005\u901a\u8fc7<code>node</code>\u53bb\u501f\u4e00\u4e2a\u7ea2\u8272\u8282\u70b9(\u8f6c\u6362)\uff0c\u7136\u540e\u5c31\u53bb\n\u68c0\u6d4b\u53f3\u8fb9\uff0c\u53f3\u8fb9\u5b58\u5728<code>3\u8282\u70b9</code>(\u53f3\u5de6\u7ea2)\uff0c\u90a3\u4e48\u5c31\u4ece\u53f3\u8fb9\u501f(<code>rotateRight + rotateLeft</code>)\uff0c\u5982\u679c\u53f3\u8fb9\u4e0d\u5b58\u5728\uff0c\u901a\u8fc7\u9012\u5f52\u548c\u6267\u884c\n<code>flipColors</code>\uff0c\u6700\u7ec8\u53ef\u4ee5\u4ece<code>node</code>\u53bb\u501f\u4e00\u4e2a\u7ea2\u8272\u8282\u70b9\u3002</p>\n<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkLeftNodeAndMove</span>(<span class="hljs-params">node</span>)</span>{\n  <span class="hljs-comment">// \u786e\u4fdd\u5de6\u8fb9\u53ea\u662f\u4e2a2\u8282\u70b9</span>\n  <span class="hljs-keyword">if</span> (!isRed(node.left) &amp;&amp; !isRed(node.left.left))\n    node= moveRedLeft(node);\n  <span class="hljs-keyword">return</span> node\n}\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">moveRedLeft</span>(<span class="hljs-params">node</span>) </span>{\n  <span class="hljs-comment">// \u5c06node\u53d8\u4e3a3\u8282\u70b9\u6216\u80054\u8282\u70b9</span>\n  flipColors(node);\n  <span class="hljs-keyword">if</span> (isRed(node.right.left)) {\n    <span class="hljs-comment">// \u5224\u65ad\u662f\u5426\u53ef\u4ee5\u4ece\u53f3\u8282\u70b9\u63a5\u4e00\u4e2a\u7ea2\u8272\u8282\u70b9</span>\n    node.right = rotateRight(node.right);\n    node = rotateLeft(node);\n    <span class="hljs-comment">// \u5df2\u7ecf\u4ece\u53f3\u8282\u70b9\u501f\u5230\u4e00\u4e2a\u7ea2\u8272\u8282\u70b9\uff0c\u89e3\u9664node\u7684\u591a\u8282\u70b9</span>\n    flipColors(node);\n  }\n  <span class="hljs-keyword">return</span> node;\n}\n</code></pre>\n<hr>\n<h4>\u53f3\u8282\u70b9</h4>\n<p><img src="https://stonehank.github.io/articles/img/%E7%BA%A2%E9%BB%91%E6%A0%91-%E5%88%A0%E9%99%A4(%E5%8F%B3%E8%8A%82%E7%82%B9).png" alt=""></p>\n<pre class="hljs"><code><span class="hljs-keyword">if</span> (val &lt; node.val)  {\n  <span class="hljs-comment">/* ...\u5de6\u8282\u70b9\u7684\u5904\u7406... */</span>\n}<span class="hljs-keyword">else</span> {\n  <span class="hljs-comment">// \u5982\u679c\u662f3\u8282\u70b9\uff0c\u9700\u8981\u5148\u53f3\u65cb\uff0c\u4fdd\u8bc1\u88ab\u5220\u9664\u7684\u4e0d\u662f\u7236\u7ea7\u6811</span>\n  <span class="hljs-comment">/*\n  \u4f8b\u5982\uff1a 5         3\n        /   ==&gt;     \\\n     R 3           R 5\n  */</span>\n  <span class="hljs-keyword">if</span> (isRed(node.left))\n    node = rotateRight(node);\n  <span class="hljs-comment">// \u627e\u5230\u503c\uff0c\u901a\u8fc7\u4e0a\u9762\u53f3\u8f6c\uff0c\u65e0\u53f3\u5b50\u6811\uff0c\u76f4\u63a5\u5220\u9664</span>\n  <span class="hljs-keyword">if</span> (val===node.val  &amp;&amp; (node.right == <span class="hljs-literal">null</span>))\n    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;\n\n  <span class="hljs-comment">// \u68c0\u6d4b\u53f3\u4fa7\u53ef\u80fd\u88ab\u5220\u9664\u7684\u8282\u70b9\u5982\u679c\u662f2\u8282\u70b9(\u9ed1\u8272)\uff0c\u90a3\u4e48\u9700\u8981\u5c06\u5b83\u53d8\u4e3a3\u8282\u70b9(\u7ea2\u8272)\u518d\u5220\u9664</span>\n  node=checkRightNodeAndMove(node)\n  <span class="hljs-keyword">if</span> (val === node.val) {\n    <span class="hljs-keyword">let</span> x = min(node.right);\n    node.val = x.val;\n    node.right = _remove(node.right,x.val);\n  }\n  <span class="hljs-keyword">else</span> node.right =_remove(node.right, val);\n}\n</code></pre>\n<p>\u5728<code>checkLeftNodeAndMove</code>\u5185\u90e8\uff0c\u5982\u679c\u68c0\u6d4b\u5230\u53f3\u8fb9<strong>\u6709\u53ef\u80fd\u662f\u5220\u9664\u4f4d\u7f6e</strong>\u7684\u8282\u70b9\u662f\u4e2a<code>2\u8282\u70b9</code>(\u53f3\u9ed1 &amp; \u53f3\u5de6\u9ed1)\uff0c\u90a3\u4e48\u5148<code>flipColors</code>\uff0c\n\u540c\u6837\u4e5f\u662f\u4e3a\u4e86\u8ba9\u5f53\u524d<code>node</code>\u5148\u6210\u4e3a\u4e00\u4e2a<code>3\u8282\u70b9</code>\u6216\u8005<code>4\u8282\u70b9</code>\uff0c\u7136\u540e\u5c31\u53bb\u68c0\u6d4b\u5de6\u8fb9\uff0c\u5de6\u8fb9\u5b58\u5728<code>3\u8282\u70b9</code>(\u5de6\u5de6\u7ea2)\uff0c\u90a3\u4e48\u5c31\u4ece\u5de6\u8fb9\u501f\n(<code>rotateRight</code>)\uff0c\u5982\u679c\u5de6\u8fb9\u4e0d\u5b58\u5728\uff0c\u901a\u8fc7\u9012\u5f52\u548c\u6267\u884c<code>flipColors</code>\uff0c\u6700\u7ec8\u53ef\u4ee5\u4ece<code>node</code>\u53bb\u501f\u4e00\u4e2a\u7ea2\u8272\u8282\u70b9\u3002</p>\n<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkRightNodeAndMove</span>(<span class="hljs-params">node</span>)</span>{\n  <span class="hljs-comment">// \u5982\u679c\u53f3\u8282\u70b9 \u6216\u8005 \u53f3\u8282\u70b9\u7684\u5de6\u5b69\u5b50 \u4e3a\u7ea2\u8272\uff0c\u8fd9\u4e24\u4e2a\u8282\u70b9\u662f\u6709\u53ef\u80fd\u4f1a\u88ab\u5220\u9664\u7684\u8282\u70b9\uff0c\u5219\u4e0d\u9700\u8981\u8c03\u6574\uff0c\u53ef\u4ee5\u7ee7\u7eed\u9012\u5f52\u81f3\u4e0b\u4e00\u5c42</span>\n  <span class="hljs-keyword">if</span> (!isRed(node.right) &amp;&amp; !isRed(node.right.left))\n  <span class="hljs-comment">// \u8c03\u6574\u4e3a3\u8282\u70b9</span>\n    node = moveRedRight(node);\n  <span class="hljs-keyword">return</span> node\n}\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">moveRedRight</span>(<span class="hljs-params">node</span>) </span>{\n  <span class="hljs-comment">// \u5c06node\u53d8\u4e3a3\u8282\u70b9\u6216\u80054\u8282\u70b9</span>\n  flipColors(node);\n  <span class="hljs-comment">// \u5224\u65ad\u662f\u5426\u53ef\u4ee5\u4ece\u5de6\u8282\u70b9\u63a5\u4e00\u4e2a\u7ea2\u8272\u8282\u70b9</span>\n  <span class="hljs-keyword">if</span> (isRed(node.left.left)) {\n    node = rotateRight(node);\n    <span class="hljs-comment">// \u5df2\u7ecf\u4ece\u5de6\u8282\u70b9\u501f\u5230\u4e00\u4e2a\u7ea2\u8272\u8282\u70b9\uff0c\u89e3\u9664node\u7684\u591a\u8282\u70b9</span>\n    flipColors(node);\n  }\n  <span class="hljs-keyword">return</span> node;\n}\n</code></pre>\n<hr>\n<h4>balance</h4>\n<p>\u5220\u9664\u64cd\u4f5c\u7ed3\u675f\u540e\uff0c<strong>\u9012\u5f52</strong>\u6267\u884c<code>balance</code></p>\n<p>\u68c0\u6d4b\u4e00\u4e0b\u5185\u5bb9</p>\n<ul>\n<li>\u68c0\u6d4b\u662f\u5426\u5b58\u5728\u53f3\u7ea2\u94fe\u63a5</li>\n<li>\u68c0\u6d4b\u662f\u5426\u5b58\u57282\u4e2a\u5de6\u7ea2\u94fe\u63a5\u76f8\u90bb</li>\n<li>\u68c0\u6d4b\u662f\u5426\u5b58\u5728<code>4\u8282\u70b9</code>(\u5de6\u7ea2\u53f3\u7ea2)</li>\n</ul>\n<p>\u5176\u5b9e\u5c31\u662f<code>\u63d2\u5165\u8282\u70b9</code>\u76843\u4e2a<code>if</code>\uff0c\u8fd9\u4e24\u4e2a\u8868\u8fbe\u610f\u601d\u662f\u4e00\u6a21\u4e00\u6837\uff0c\u53ef\u4ee5\u901a\u7528(\u5df2\u6d4b\u8bd5)</p>\n<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">balance</span>(<span class="hljs-params">node</span>)</span>{\n  <span class="hljs-keyword">if</span> (isRed(node.right))  node = rotateLeft(node);\n  <span class="hljs-keyword">if</span> (isRed(node.left) &amp;&amp; isRed(node.left.left)) node = rotateRight(node);\n  <span class="hljs-keyword">if</span> (isRed(node.left) &amp;&amp; isRed(node.right)) flipColors(node);\n  <span class="hljs-keyword">return</span> node;\n}\n</code></pre>\n'}}}]);
//# sourceMappingURL=sourceCode-content23.91638391.chunk.js.map