{
  "content": "<p>一些JS基础(1)</p>\n<h4>硬绑定不会覆盖硬绑定，但new会覆盖硬绑定</h4>\n<ul>\n<li>硬绑定不会覆盖硬绑定</li>\n</ul>\n<pre class=\"hljs\"><code><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">show</span>(<span class=\"hljs-params\">s</span>)</span>{\n  <span class=\"hljs-keyword\">this</span>.a=s\n}\n\n<span class=\"hljs-keyword\">var</span> obj1={}\n<span class=\"hljs-keyword\">var</span> obj2={}\n\nshow=show.bind(obj1)\nshow(<span class=\"hljs-number\">5</span>)\nobj1.a  <span class=\"hljs-comment\">// 5</span>\n\nshow=show.bind(obj2)\n<span class=\"hljs-comment\">// 此处修改的还是obj1</span>\nshow(<span class=\"hljs-number\">10</span>)\nobj2.a  <span class=\"hljs-comment\">// undefined</span>\nobj1.a  <span class=\"hljs-comment\">// 10</span>\n</code></pre>\n<ul>\n<li>new会覆盖硬绑定</li>\n</ul>\n<pre class=\"hljs\"><code><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">show</span>(<span class=\"hljs-params\">s</span>)</span>{\n  <span class=\"hljs-keyword\">this</span>.a=s\n}\n\n<span class=\"hljs-keyword\">var</span> obj1={}\n<span class=\"hljs-keyword\">var</span> obj2={}\n\nshow=show.bind(obj1)\nshow(<span class=\"hljs-number\">5</span>)\nobj1.a  <span class=\"hljs-comment\">// 5</span>\n\nobj2=<span class=\"hljs-keyword\">new</span> show(<span class=\"hljs-number\">10</span>)\nobj2.a  <span class=\"hljs-comment\">// 10</span>\n</code></pre>\n<h4>安全的this</h4>\n<p>如果不需要绑定this，一般会使用null，但这是不安全的，一旦再次使用this，绑定null会让我们绑定到默认(window)；</p>\n<p>推荐使用<code>Object.create(null)</code></p>\n<h4>软绑定</h4>\n<p><code>someMethod.softBind(obj)</code></p>\n<p>检查调用时的 this ，如果 this 绑定到全局对象或者 undefined ，那就把\n指定的默认对象 obj 绑定到 this ，否则不会修改 this</p>\n"
}
