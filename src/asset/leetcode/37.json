{
  "code": [
    "<pre class=\"hljs\"><code><span class=\"hljs-comment\">/**\n * @param {character[][]} board\n * @return {void} Do not return anything, modify board in-place instead.\n */</span>\n<span class=\"hljs-keyword\">var</span> solveSudoku = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">board</span>) </span>{\n  <span class=\"hljs-keyword\">let</span> memRow=<span class=\"hljs-built_in\">Array</span>(<span class=\"hljs-number\">9</span>).fill().map(<span class=\"hljs-function\"><span class=\"hljs-params\">()</span>=&gt;</span><span class=\"hljs-built_in\">Array</span>(<span class=\"hljs-number\">10</span>).fill(<span class=\"hljs-literal\">false</span>)),\n      memCol=<span class=\"hljs-built_in\">Array</span>(<span class=\"hljs-number\">9</span>).fill().map(<span class=\"hljs-function\"><span class=\"hljs-params\">()</span>=&gt;</span><span class=\"hljs-built_in\">Array</span>(<span class=\"hljs-number\">10</span>).fill(<span class=\"hljs-literal\">false</span>)),\n      memBox=<span class=\"hljs-built_in\">Array</span>(<span class=\"hljs-number\">9</span>).fill().map(<span class=\"hljs-function\"><span class=\"hljs-params\">()</span>=&gt;</span><span class=\"hljs-built_in\">Array</span>(<span class=\"hljs-number\">10</span>).fill(<span class=\"hljs-literal\">false</span>))\n  <span class=\"hljs-keyword\">let</span> needToFill=[]\n  <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> r=<span class=\"hljs-number\">0</span>;r&lt;<span class=\"hljs-number\">9</span>;r++){\n    <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> c=<span class=\"hljs-number\">0</span>;c&lt;<span class=\"hljs-number\">9</span>;c++){\n      <span class=\"hljs-keyword\">let</span> curVal=board[r][c]\n      <span class=\"hljs-keyword\">if</span>(curVal!==<span class=\"hljs-string\">'.'</span>){\n        memRow[r][curVal]=<span class=\"hljs-literal\">true</span>\n        memCol[c][curVal]=<span class=\"hljs-literal\">true</span>\n        <span class=\"hljs-keyword\">let</span> boxID=<span class=\"hljs-built_in\">Math</span>.floor(r/<span class=\"hljs-number\">3</span>)*<span class=\"hljs-number\">3</span>+<span class=\"hljs-built_in\">Math</span>.floor(c/<span class=\"hljs-number\">3</span>)\n        memBox[boxID][curVal]=<span class=\"hljs-literal\">true</span>\n      }<span class=\"hljs-keyword\">else</span>{\n        needToFill.push([r,c])\n      }\n    }\n  }\n  dfs(<span class=\"hljs-number\">0</span>)\n  <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">dfs</span>(<span class=\"hljs-params\">index</span>)</span>{\n    <span class=\"hljs-keyword\">if</span>(index===needToFill.length)<span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>\n    <span class=\"hljs-keyword\">let</span> [r,c]=needToFill[index]\n    <span class=\"hljs-keyword\">let</span> boxID=<span class=\"hljs-built_in\">Math</span>.floor(r/<span class=\"hljs-number\">3</span>)*<span class=\"hljs-number\">3</span>+<span class=\"hljs-built_in\">Math</span>.floor(c/<span class=\"hljs-number\">3</span>)\n    <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> val=<span class=\"hljs-number\">1</span>;val&lt;<span class=\"hljs-number\">10</span>;val++){\n      <span class=\"hljs-keyword\">if</span>(!memRow[r][val] &amp;&amp; !memCol[c][val] &amp;&amp; !memBox[boxID][val]){\n        memRow[r][val]=<span class=\"hljs-literal\">true</span>\n        memCol[c][val]=<span class=\"hljs-literal\">true</span>\n        memBox[boxID][val]=<span class=\"hljs-literal\">true</span>\n        board[r][c]=val+<span class=\"hljs-string\">''</span>\n        <span class=\"hljs-keyword\">if</span>(dfs(index+<span class=\"hljs-number\">1</span>))<span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>\n        board[r][c]=<span class=\"hljs-string\">'.'</span>\n        memRow[r][val]=<span class=\"hljs-literal\">false</span>\n        memCol[c][val]=<span class=\"hljs-literal\">false</span>\n        memBox[boxID][val]=<span class=\"hljs-literal\">false</span>\n      }\n    }\n  }\n};\n</code></pre>\n"
  ],
  "titleSlug": "sudoku-solver",
  "hasThinking": true,
  "thinking": "<hr>\n<p>思路：</p>\n<p>这道题要求填充，解决办法就是<code>回溯</code>，但是每填一个数字，需要检查是否有效，如果每次都重新检查，时间消耗太高。</p>\n<p>因此用<code>hash</code>保存初始<code>行</code>，<code>列</code>，<code>块</code>的数字，后面回溯过程中，每填一个数字，只要检查<code>hash</code>便可以，有效即更新<code>hash</code>。</p>\n",
  "content": "<p>编写一个程序，通过已填充的空格来解决数独问题。</p>\n\n<p>一个数独的解法需<strong>遵循如下规则</strong>：</p>\n\n<ol>\n\t<li>数字&nbsp;<code>1-9</code>&nbsp;在每一行只能出现一次。</li>\n\t<li>数字&nbsp;<code>1-9</code>&nbsp;在每一列只能出现一次。</li>\n\t<li>数字&nbsp;<code>1-9</code>&nbsp;在每一个以粗实线分隔的&nbsp;<code>3x3</code>&nbsp;宫内只能出现一次。</li>\n</ol>\n\n<p>空白格用&nbsp;<code>&#39;.&#39;</code>&nbsp;表示。</p>\n\n<p><img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Sudoku-by-L2G-20050714.svg/250px-Sudoku-by-L2G-20050714.svg.png\"></p>\n\n<p><small>一个数独。</small></p>\n\n<p><img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Sudoku-by-L2G-20050714_solution.svg/250px-Sudoku-by-L2G-20050714_solution.svg.png\"></p>\n\n<p><small>答案被标成红色。</small></p>\n\n<p><strong>Note:</strong></p>\n\n<ul>\n\t<li>给定的数独序列只包含数字&nbsp;<code>1-9</code>&nbsp;和字符&nbsp;<code>&#39;.&#39;</code>&nbsp;。</li>\n\t<li>你可以假设给定的数独只有唯一解。</li>\n\t<li>给定数独永远是&nbsp;<code>9x9</code>&nbsp;形式的。</li>\n</ul>\n"
}
