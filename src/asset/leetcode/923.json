{
  "code": [
    "<pre class=\"hljs\"><code><span class=\"hljs-comment\">/**\n * @param {number[]} A\n * @param {number} target\n * @return {number}\n */</span>\n<span class=\"hljs-keyword\">var</span> threeSumMulti = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">A, target</span>) </span>{\n  <span class=\"hljs-comment\">// A.sort((a,b)=&gt;a-b)</span>\n  <span class=\"hljs-keyword\">let</span> unique=[], hash={}, MOD=<span class=\"hljs-number\">1000000007</span>\n  <span class=\"hljs-comment\">// 定义独立数组</span>\n  <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> i=<span class=\"hljs-number\">0</span>;i&lt;A.length;i++){\n    <span class=\"hljs-keyword\">if</span>(hash[A[i]]==<span class=\"hljs-literal\">null</span>){\n      hash[A[i]]=<span class=\"hljs-number\">1</span>\n      unique.push(A[i])\n    }<span class=\"hljs-keyword\">else</span> hash[A[i]]++\n  }\n  <span class=\"hljs-comment\">// 定义重复数组</span>\n  <span class=\"hljs-keyword\">let</span> dupli=<span class=\"hljs-built_in\">Array</span>(unique.length).fill(<span class=\"hljs-literal\">Infinity</span>)\n  <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> i=<span class=\"hljs-number\">0</span>;i&lt;dupli.length;i++){\n    <span class=\"hljs-keyword\">if</span>(hash[unique[i]]&gt;<span class=\"hljs-number\">1</span>){\n      dupli[i]=unique[i]*<span class=\"hljs-number\">2</span>\n    }\n  }\n  <span class=\"hljs-comment\">// console.log(dupli,unique)</span>\n  <span class=\"hljs-keyword\">let</span> sum=<span class=\"hljs-number\">0</span>\n  <span class=\"hljs-comment\">// 计算独立数组</span>\n  <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> i=<span class=\"hljs-number\">0</span>;i&lt;unique.length;i++){\n    <span class=\"hljs-keyword\">let</span> t=target-unique[i]\n    <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> j=i+<span class=\"hljs-number\">1</span>,k=unique.length<span class=\"hljs-number\">-1</span>;j&lt;k;){\n      <span class=\"hljs-keyword\">let</span> l=unique[j],r=unique[k]\n      <span class=\"hljs-keyword\">if</span>(l+r===t){ sum+=hash[unique[i]]*hash[l]*hash[r] % MOD; j++ }\n      <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span>(l+r&lt;t) j++\n      <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span>(l+r&gt;t) k--\n    }\n  }\n  <span class=\"hljs-comment\">// console.log(sum)</span>\n  <span class=\"hljs-comment\">// 计算重复数组</span>\n  <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> i=<span class=\"hljs-number\">0</span>;i&lt;unique.length;i++){\n    <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> j=<span class=\"hljs-number\">0</span>;j&lt;dupli.length;j++){\n      <span class=\"hljs-keyword\">let</span> u=unique[i],d=dupli[j]\n      <span class=\"hljs-keyword\">if</span>(u+d===target){\n        <span class=\"hljs-keyword\">if</span>(i===j) sum+=((hash[d/<span class=\"hljs-number\">2</span>]<span class=\"hljs-number\">-2</span>)*(hash[d/<span class=\"hljs-number\">2</span>]<span class=\"hljs-number\">-1</span>)*hash[u]/<span class=\"hljs-number\">6</span>) % MOD\n        <span class=\"hljs-keyword\">else</span> sum+=(hash[d/<span class=\"hljs-number\">2</span>]*(hash[d/<span class=\"hljs-number\">2</span>]<span class=\"hljs-number\">-1</span>)*hash[u] /<span class=\"hljs-number\">2</span>) % MOD  \n      }\n    }\n  }\n  <span class=\"hljs-keyword\">return</span> sum  % MOD\n};\n</code></pre>\n"
  ],
  "titleSlug": "3sum-with-multiplicity",
  "hasThinking": false,
  "content": "<p>给定一个整数数组&nbsp;<code>A</code>，以及一个整数&nbsp;<code>target</code>&nbsp;作为目标值，返回满足 <code>i &lt; j &lt; k</code> 且&nbsp;<code>A[i] + A[j] + A[k] == target</code>&nbsp;的元组&nbsp;<code>i, j, k</code>&nbsp;的数量。</p>\n\n<p>由于结果会非常大，请返回 <code>结果除以 10^9 + 7 的余数</code>。</p>\n\n<p>&nbsp;</p>\n\n<p><strong>示例 1：</strong></p>\n\n<pre><strong>输入：</strong>A = [1,1,2,2,3,3,4,4,5,5], target = 8\n<strong>输出：</strong>20\n<strong>解释：</strong>\n按值枚举（A[i]，A[j]，A[k]）：\n(1, 2, 5) 出现 8 次；\n(1, 3, 4) 出现 8 次；\n(2, 2, 4) 出现 2 次；\n(2, 3, 3) 出现 2 次。\n</pre>\n\n<p><strong>示例 2：</strong></p>\n\n<pre><strong>输入：</strong>A = [1,1,2,2,2,2], target = 5\n<strong>输出：</strong>12\n<strong>解释：</strong>\nA[i] = 1，A[j] = A[k] = 2 出现 12 次：\n我们从 [1,1] 中选择一个 1，有 2 种情况，\n从 [2,2,2,2] 中选出两个 2，有 6 种情况。\n</pre>\n\n<p>&nbsp;</p>\n\n<p><strong>提示：</strong></p>\n\n<ol>\n\t<li><code>3 &lt;= A.length &lt;= 3000</code></li>\n\t<li><code>0 &lt;= A[i] &lt;= 100</code></li>\n\t<li><code>0 &lt;= target &lt;= 300</code></li>\n</ol>\n"
}
