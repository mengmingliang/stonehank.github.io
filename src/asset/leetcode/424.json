{
  "code": [
    "<pre class=\"hljs\"><code><span class=\"hljs-comment\">/**\n * @param {string} s\n * @param {number} k\n * @return {number}\n */</span>\n\n<span class=\"hljs-comment\">/*\n思路：\n1. 定义一个滑动窗口，这个窗口不断增大，直到 `窗口长度-里面出现频率最高字母的次数&gt;k`，说明这个窗口已经到了极限\n2. 需要去掉窗口的头部对应字母的次数，然后窗口向后滑动(start++)，继续第1步的判断\n\n例如：ABABABB，k=1\n\n第一个窗口:ABA, 到达极限\n第二个窗口:BAB, 到达极限\n第三个窗口:ABA, 到达极限\n第四个窗口:BABB,end到达尾部，最大值4\n\n*/</span>\n<span class=\"hljs-keyword\">var</span> characterReplacement = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">s, k</span>) </span>{\n    <span class=\"hljs-comment\">// let codeA='A'.charCodeAt(0)</span>\n    <span class=\"hljs-keyword\">let</span> count=<span class=\"hljs-built_in\">Array</span>(<span class=\"hljs-number\">26</span>).fill(<span class=\"hljs-number\">0</span>)\n    <span class=\"hljs-keyword\">let</span> start=<span class=\"hljs-number\">0</span>,end=<span class=\"hljs-number\">0</span>,maxCount=<span class=\"hljs-number\">0</span>\n    <span class=\"hljs-keyword\">for</span>(end=<span class=\"hljs-number\">0</span>;end&lt;s.length;end++){\n        <span class=\"hljs-comment\">// 算出当前窗口出现频率最多的字母的次数</span>\n        maxCount=<span class=\"hljs-built_in\">Math</span>.max(maxCount,++count[s.charCodeAt(end)<span class=\"hljs-number\">-65</span>])\n        <span class=\"hljs-comment\">// 当窗口宽度达到极限</span>\n        <span class=\"hljs-keyword\">if</span>(end+<span class=\"hljs-number\">1</span>-start-maxCount &gt;k){\n            <span class=\"hljs-comment\">// 去掉当前窗口第一个字符对应的次数</span>\n            count[s.charCodeAt(start)<span class=\"hljs-number\">-65</span>]--\n            <span class=\"hljs-comment\">// 窗口向后滑动，然后end继续向后走</span>\n            start++\n        }\n    }\n    <span class=\"hljs-keyword\">return</span> end-start\n};\n</code></pre>\n"
  ],
  "titleSlug": "longest-repeating-character-replacement",
  "content": "<p>给你一个仅由大写英文字母组成的字符串，你可以将任意位置上的字符替换成另外的字符，总共可最多替换&nbsp;<em>k&nbsp;</em>次。在执行上述操作后，找到包含重复字母的最长子串的长度。</p>\n\n<p><strong>注意:</strong><br>\n字符串长度 和 <em>k </em>不会超过&nbsp;10<sup>4</sup>。</p>\n\n<p><strong>示例 1:</strong></p>\n\n<pre><strong>输入:</strong>\ns = &quot;ABAB&quot;, k = 2\n\n<strong>输出:</strong>\n4\n\n<strong>解释:</strong>\n用两个&#39;A&#39;替换为两个&#39;B&#39;,反之亦然。\n</pre>\n\n<p><strong>示例 2:</strong></p>\n\n<pre><strong>输入:</strong>\ns = &quot;AABABBA&quot;, k = 1\n\n<strong>输出:</strong>\n4\n\n<strong>解释:</strong>\n将中间的一个&#39;A&#39;替换为&#39;B&#39;,字符串变为 &quot;AABBBBA&quot;。\n子串 &quot;BBBB&quot; 有最长重复字母, 答案为 4。\n</pre>\n"
}
