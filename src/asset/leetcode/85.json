{
  "code": [
    "<pre class=\"hljs\"><code><span class=\"hljs-comment\">/**\n * @param {character[][]} matrix\n * @return {number}\n */</span>\n<span class=\"hljs-keyword\">var</span> maximalRectangle = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">matrix</span>) </span>{\n  <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getMaxArea</span>(<span class=\"hljs-params\">arr</span>)</span>{\n    <span class=\"hljs-comment\">// console.log(arr)</span>\n    <span class=\"hljs-keyword\">let</span> stack=[],tail=<span class=\"hljs-number\">0</span>,maxArea=<span class=\"hljs-number\">0</span>,area=<span class=\"hljs-number\">0</span>\n    <span class=\"hljs-keyword\">for</span>(;tail&lt;arr.length;){\n      <span class=\"hljs-keyword\">let</span> cur=arr[tail]\n      <span class=\"hljs-keyword\">if</span>(stack.length===<span class=\"hljs-number\">0</span> || cur&gt;=arr[stack[stack.length<span class=\"hljs-number\">-1</span>]]){\n        stack.push(tail++)\n      }<span class=\"hljs-keyword\">else</span>{\n        <span class=\"hljs-keyword\">let</span> pre=stack.pop()\n        <span class=\"hljs-keyword\">if</span>(stack.length===<span class=\"hljs-number\">0</span>) area=arr[pre]*tail\n        <span class=\"hljs-keyword\">else</span> area=arr[pre]*(tail-stack[stack.length<span class=\"hljs-number\">-1</span>]<span class=\"hljs-number\">-1</span>)\n        maxArea=<span class=\"hljs-built_in\">Math</span>.max(area,maxArea)\n      }\n    }\n    <span class=\"hljs-comment\">// console.log(maxArea,stack)</span>\n    <span class=\"hljs-keyword\">while</span>(stack.length!==<span class=\"hljs-number\">0</span>){\n      <span class=\"hljs-keyword\">let</span> pre=stack.pop()\n      <span class=\"hljs-keyword\">if</span>(stack.length===<span class=\"hljs-number\">0</span>) area=arr[pre]*tail\n      <span class=\"hljs-keyword\">else</span> area=arr[pre]*(tail-stack[stack.length<span class=\"hljs-number\">-1</span>]<span class=\"hljs-number\">-1</span>)\n      maxArea=<span class=\"hljs-built_in\">Math</span>.max(area,maxArea)\n    }\n    <span class=\"hljs-comment\">// console.log(maxArea)</span>\n    <span class=\"hljs-keyword\">return</span> maxArea\n  }\n  \n  <span class=\"hljs-keyword\">if</span>(matrix.length===<span class=\"hljs-number\">0</span>)<span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>\n  <span class=\"hljs-keyword\">let</span> maxArea=<span class=\"hljs-number\">0</span>\n  <span class=\"hljs-keyword\">let</span> dp=<span class=\"hljs-built_in\">Array</span>(matrix[<span class=\"hljs-number\">0</span>].length).fill(<span class=\"hljs-number\">0</span>)\n  <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> i=<span class=\"hljs-number\">0</span>;i&lt;matrix.length;i++){\n    <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> j=<span class=\"hljs-number\">0</span>;j&lt;matrix[i].length;j++){\n      <span class=\"hljs-keyword\">if</span>(matrix[i][j]===<span class=\"hljs-string\">\"0\"</span>) dp[j]=<span class=\"hljs-number\">0</span>\n      <span class=\"hljs-keyword\">else</span> dp[j]+=<span class=\"hljs-number\">1</span>\n    }\n    <span class=\"hljs-keyword\">let</span> area=getMaxArea(dp)\n    maxArea=<span class=\"hljs-built_in\">Math</span>.max(maxArea,area)\n  }\n  <span class=\"hljs-keyword\">return</span> maxArea\n};\n</code></pre>\n"
  ],
  "titleSlug": "maximal-rectangle",
  "content": "<p>给定一个仅包含&nbsp;0 和 1 的二维二进制矩阵，找出只包含 1 的最大矩形，并返回其面积。</p>\n\n<p><strong>示例:</strong></p>\n\n<pre><strong>输入:</strong>\n[\n  [&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;],\n  [&quot;1&quot;,&quot;0&quot;,&quot;<strong>1</strong>&quot;,&quot;<strong>1</strong>&quot;,&quot;<strong>1</strong>&quot;],\n  [&quot;1&quot;,&quot;1&quot;,&quot;<strong>1</strong>&quot;,&quot;<strong>1</strong>&quot;,&quot;<strong>1</strong>&quot;],\n  [&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;]\n]\n<strong>输出:</strong> 6</pre>\n"
}
