{
  "code": [
    "<pre class=\"hljs\"><code><span class=\"hljs-comment\">/**\n * @param {number} buckets\n * @param {number} minutesToDie\n * @param {number} minutesToTest\n * @return {number}\n */</span>\n<span class=\"hljs-keyword\">var</span> poorPigs = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">buckets, minutesToDie, minutesToTest</span>) </span>{\n  <span class=\"hljs-keyword\">if</span>(buckets===<span class=\"hljs-number\">1</span>)<span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>\n  <span class=\"hljs-keyword\">let</span> times=<span class=\"hljs-built_in\">Math</span>.floor( minutesToTest / minutesToDie )\n  <span class=\"hljs-keyword\">let</span> bit=times+<span class=\"hljs-number\">1</span>\n  <span class=\"hljs-keyword\">let</span> pigsNum=(buckets<span class=\"hljs-number\">-1</span>).toString(bit).length\n  <span class=\"hljs-keyword\">return</span> pigsNum\n};\n</code></pre>\n"
  ],
  "titleSlug": "poor-pigs",
  "hasThinking": true,
  "thinking": "<hr>\n<p>思路：</p>\n<p>这道题做绕了，看了一个思路很清晰的帖子。</p>\n<p><code>https://leetcode.com/problems/poor-pigs/discuss/94273/Solution-with-detailed-explanation</code></p>\n<p>先考虑只有1次测试机会</p>\n<p>例如：<code>4桶水，15分钟内中毒，测试时间15分钟</code>，需要<code>2</code>只猪</p>\n<p>我们可以使用二进制去解，如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Buckets</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">DrinkBy</td>\n<td style=\"text-align:center\">__</td>\n<td style=\"text-align:center\">_A</td>\n<td style=\"text-align:center\">B_</td>\n<td style=\"text-align:center\">AB</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Binary</td>\n<td style=\"text-align:center\">00</td>\n<td style=\"text-align:center\">01</td>\n<td style=\"text-align:center\">10</td>\n<td style=\"text-align:center\">11</td>\n</tr>\n</tbody>\n</table>\n<p>那么当有多次测试机会，</p>\n<p>例如：<code>9桶水，7分钟中毒，测试时间15分钟</code>，需要<code>2</code>只猪</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Buckets</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">4</th>\n<th style=\"text-align:center\">5</th>\n<th style=\"text-align:center\">6</th>\n<th style=\"text-align:center\">7</th>\n<th style=\"text-align:center\">8</th>\n<th style=\"text-align:center\">9</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">Binary</td>\n<td style=\"text-align:center\">00</td>\n<td style=\"text-align:center\">01</td>\n<td style=\"text-align:center\">02</td>\n<td style=\"text-align:center\">10</td>\n<td style=\"text-align:center\">11</td>\n<td style=\"text-align:center\">12</td>\n<td style=\"text-align:center\">20</td>\n<td style=\"text-align:center\">21</td>\n<td style=\"text-align:center\">22</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">第一轮</td>\n<td style=\"text-align:center\">__</td>\n<td style=\"text-align:center\">_A</td>\n<td style=\"text-align:center\">__</td>\n<td style=\"text-align:center\">B_</td>\n<td style=\"text-align:center\">AB</td>\n<td style=\"text-align:center\">B_</td>\n<td style=\"text-align:center\">__</td>\n<td style=\"text-align:center\">_A</td>\n<td style=\"text-align:center\">__</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">第二轮</td>\n<td style=\"text-align:center\">__</td>\n<td style=\"text-align:center\">__</td>\n<td style=\"text-align:center\">_A</td>\n<td style=\"text-align:center\">__</td>\n<td style=\"text-align:center\">__</td>\n<td style=\"text-align:center\">_A</td>\n<td style=\"text-align:center\">B_</td>\n<td style=\"text-align:center\">B_</td>\n<td style=\"text-align:center\">BA</td>\n</tr>\n</tbody>\n</table>\n<p>可以通过上面表格清除看到，一旦第一轮<code>A</code>或者<code>B</code>中毒，第二轮就可以通过另一只猪来检测出可能有毒的水桶。</p>\n<h2>结论：以<code>测试次数</code>为进制数的次方，求出超过当前水桶数量的最小值。</h2>\n",
  "content": "<p>有 1000 只水桶，其中有且只有一桶装的含有毒药，其余装的都是水。它们从外观看起来都一样。如果小猪喝了毒药，它会在 15 分钟内死去。</p>\n\n<p>问题来了，如果需要你在一小时内，弄清楚哪只水桶含有毒药，你最少需要多少只猪？</p>\n\n<p>回答这个问题，并为下列的进阶问题编写一个通用算法。</p>\n\n<p>&nbsp;</p>\n\n<p><strong>进阶: </strong></p>\n\n<p>假设有 <code>n</code> 只水桶，猪饮水中毒后会在 <code>m</code> 分钟内死亡，你需要多少猪（<code>x</code>）就能在 <code>p</code> 分钟内找出 &ldquo;<strong>有毒</strong>&rdquo; 水桶？这&nbsp;<code>n</code> 只水桶里有且仅有一只有毒的桶。</p>\n\n<p>&nbsp;</p>\n\n<p><strong>提示：</strong></p>\n\n<ol>\n\t<li>可以允许小猪同时饮用任意数量的桶中的水，并且该过程不需要时间。</li>\n\t<li>小猪喝完水后，必须有 <em>m</em> 分钟的<strong>冷却时间</strong>。在这段时间里，只允许观察，而不允许继续饮水。</li>\n\t<li>任何给定的桶都可以无限次采样（无限数量的猪）。</li>\n</ol>\n"
}
