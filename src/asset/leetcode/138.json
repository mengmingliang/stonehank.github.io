{
  "code": [
    "<pre class=\"hljs\"><code><span class=\"hljs-comment\">/**\n * // Definition for a Node.\n * function Node(val,next,random) {\n *    this.val = val;\n *    this.next = next;\n *    this.random = random;\n * };\n */</span>\n<span class=\"hljs-comment\">/**\n * @param {Node} head\n * @return {Node}\n */</span>\n<span class=\"hljs-keyword\">var</span> copyRandomList = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">head</span>) </span>{\n  <span class=\"hljs-keyword\">if</span>(!head)<span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>\n  <span class=\"hljs-keyword\">let</span> node=head\n  <span class=\"hljs-keyword\">while</span>(node){\n    <span class=\"hljs-keyword\">let</span> next=node.next\n    <span class=\"hljs-keyword\">let</span> copy=<span class=\"hljs-keyword\">new</span> Node(node.val)\n    node.next=copy\n    copy.next=next\n    node=next\n  }\n  node=head\n  <span class=\"hljs-keyword\">while</span>(node){\n    <span class=\"hljs-keyword\">let</span> next=node.next.next\n    <span class=\"hljs-keyword\">if</span>(node.random){\n      node.next.random=node.random.next\n    }\n    node=next\n  }\n  \n  <span class=\"hljs-keyword\">let</span> copyHead=<span class=\"hljs-keyword\">new</span> Node()\n  node=head\n  <span class=\"hljs-keyword\">let</span> copyNode=copyHead\n  <span class=\"hljs-keyword\">while</span>(node){\n    <span class=\"hljs-keyword\">let</span> nxt=node.next.next\n    <span class=\"hljs-keyword\">let</span> copy=node.next\n    copyNode.next=copy\n    node.next=nxt\n    copyNode=copyNode.next\n    node=nxt\n  }\n  <span class=\"hljs-keyword\">return</span> copyHead.next\n  \n};\n</code></pre>\n"
  ],
  "titleSlug": "copy-list-with-random-pointer",
  "hasThinking": true,
  "thinking": "<hr>\n<p>思路：</p>\n<p>第一次遍历：在每一个节点后面添加一个<code>val</code>相同的节点<code>copy</code>。</p>\n<p>第二次遍历：对每一个<code>新</code>节点添加<code>random</code>属性，<code>copy.random = oldNode.random.next</code></p>\n<p>第三次遍历：将<code>copy</code>单独提取出，删除原链表中的所有<code>copy</code>。</p>\n",
  "content": "<p>给定一个链表，每个节点包含一个额外增加的随机指针，该指针可以指向链表中的任何节点或空节点。</p>\n\n<p>要求返回这个链表的<strong><a href=\"https://baike.baidu.com/item/深拷贝/22785317?fr=aladdin\" target=\"_blank\">深拷贝</a></strong>。&nbsp;</p>\n\n<p>&nbsp;</p>\n\n<p><strong>示例：</strong></p>\n\n<p><strong><img alt=\"\" src=\"https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2019/02/23/1470150906153-2yxeznm.png\"></strong></p>\n\n<pre><strong>输入：\n</strong>{&quot;$id&quot;:&quot;1&quot;,&quot;next&quot;:{&quot;$id&quot;:&quot;2&quot;,&quot;next&quot;:null,&quot;random&quot;:{&quot;$ref&quot;:&quot;2&quot;},&quot;val&quot;:2},&quot;random&quot;:{&quot;$ref&quot;:&quot;2&quot;},&quot;val&quot;:1}\n\n<strong>解释：\n</strong>节点 1 的值是 1，它的下一个指针和随机指针都指向节点 2 。\n节点 2 的值是 2，它的下一个指针指向 null，随机指针指向它自己。\n</pre>\n\n<p>&nbsp;</p>\n\n<p><strong>提示：</strong></p>\n\n<ol>\n\t<li>你必须返回<strong>给定头的拷贝</strong>作为对克隆列表的引用。</li>\n</ol>\n"
}
