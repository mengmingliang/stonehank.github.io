{
	"content": "canvas做大量重复的粒子运动，例如雪花，星光闪烁\n\n并不需要针对每一个粒子进行动画，例如\n```js\nfor(let i=0;i<particles,length;i++){\n  let p=particles[i]\n  ctx.beginPath()\n  ctx.fillStyle=function(){}\n  ctx.fillRect(p.x, p.y, w, h);\n}\n```\n只需要针对重复运动做出2-3个画板，将所有的粒子平均填充到画板上，再移动画板便可,\n```js\n// 创建画板\nlet panels=[]\n    for(let i=0;i<num;i++) {\n    let c = document.createElement('canvas');\n    c.width =canvasW\n    c.height = canvasH;\n    panels.push({\n      canvas: c,\n      ctx: c.getContext('2d'),\n      x:0,\n      y:0,\n      vx:0,\n      vy:0\n    })\n}\n// 填充\nfor(let i=0;i<particles,length;i++){\n  let p=particles[i]\n  let cur=Math.floor(Math.random()*(panels.length-0.01))\n  let cctx=panels[cur].ctx\n  cctx.beginPath()\n  cctx.fillStyle=function(){}\n  cctx.fillRect(p.x, p.y, w, h);\n}\n\n// 画板移动\n raf(function playing(){\n    ctx.clearRect(0,0,canvasW,canvasH)\n    for(let i=0;i<panels.length;i++){\n      panels[i].vx=(0-panels[i].x)*0.1\n      panels[i].vy=(0-panels[i].y)*0.1\n      panels[i].x+=panels[i].vx\n      panels[i].y+=panels[i].vy\n      if(Math.abs(panels[i].y-0)<1)panels[i].y=0\n      if(Math.abs(panels[i].x-0)<1)panels[i].x=0\n      ctx.drawImage(panels[i].canvas,panels[i].x,panels[i].y)\n    }\n    raf(playing)\n  })\n```"
}
