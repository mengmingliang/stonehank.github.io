{
  "content": "## 解析blob实现图片预览\n\n原理很简单，`blob`是一个储存了二进制的大对象，而`createObjectURL`可以解析blob成为一个url格式，\n再用`img`标签渲染即可。\n\n```js\n  if(blob.type.indexOf('image')!==-1){\n    newURL=window.URL.createObjectURL(blob)\n    return true\n  }else{\n    alert(\"选择图片\")\n    return false\n```\n\n注意：`input type=file`标签的属性files就是blob对象的集合，不需要再另外创建blob对象。\n\n另外，还可以使用`FileReader`对blob进行解析，其中也包括解析成url格式\n\n```js\n fr=new FileReader()\n  if(blob.type.indexOf('image')!==-1){\n    fr.readAsDataURL(blob);\n    return true\n  }else{\n    alert(\"选择图片\")\n    return false\n```\n但由于`FileReader`的解析过程使异步的，必须在它的监听函数内调用解析值`result`\n\n```js\nfr.onload=function(){\n  newURL=fr.result\n  createIMG()\n}\n```\n\n代码地址：[https://gist.github.com/stonehank/113b2164e4c7fc4bdefdab96d34ad917](https://gist.github.com/stonehank/113b2164e4c7fc4bdefdab96d34ad917)\n"
}
